{"version":3,"file":"static/js/962.a9fcc2b7.chunk.js","mappings":"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","sources":["sections/three/view.js","pages/dashboard/three.js"],"sourcesContent":["// @mui\nimport { useEffect, useState } from 'react';\nimport Container from '@mui/material/Container';\nimport Typography from '@mui/material/Typography';\n// components\nimport { useSettingsContext } from 'src/components/settings';\nimport DataTable from 'react-data-table-component';\nimport { Button, IconButton, InputAdornment, Menu, MenuItem, TextField } from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\nimport axios, { endpoints } from 'src/utils/axios';\nimport { constants } from 'src/utils/constant';\nimport { useSnackbar } from 'src/components/snackbar';\nimport { decryptToken, color } from 'src/utils/common';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { SingleInputDateRangeField } from '@mui/x-date-pickers-pro/SingleInputDateRangeField';\nimport dayjs from 'dayjs';\nimport { LocalizationProvider } from '@mui/x-date-pickers';\n// ----------------------------------------------------------------------\n\nexport default function ReceiptView() {\n  const settings = useSettingsContext();\n  const { enqueueSnackbar } = useSnackbar();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [value, setValue] = useState(() => [\n    dayjs('2022-04-17'),\n    dayjs('2022-04-21'),\n  ]);\n\n  const [data, setData] = useState([]);\n  // For Actions Dropdown\n  const [anchorEl, setAnchorEl] = useState(null);\n  const openMenu = Boolean(anchorEl);\n  // Temporary State\n  const [tempData, setTempData] = useState({});\n  const [openDialog, setOpenDialog] = useState(false);\n\n\n  const fetchData = async () => {\n\n    try {\n      const decryptedToken = localStorage.getItem(constants.keyUserToken);\n      const accessToken = decryptToken(decryptedToken);\n      const response = await axios.post(endpoints.receipt.list, {}, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        }\n      });\n      if (response) {\n        setIsLoading(false);\n        console.log(response.data.data);\n        setData(response.data.data);\n      };\n\n    } catch (err) {\n      enqueueSnackbar('Failed to fetch records!', { variant: 'error' });\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchData();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const columns = [\n    {\n      name: 'Customer Name',\n      selector: (row) => {\n        if (row.partyType === 'CUSTOMER' || row.partyType === 'VENDOR') {\n          return row.userName || 'N/A';\n        }\n        return row.category || 'N/A';\n      },\n      sortable: true,\n    },\n    {\n      name: 'Invoice Number',\n      selector: (row) => row.invoiceNumber,\n      sortable: true,\n    },\n    {\n      name: 'Amount Paid',\n      selector: (row) => row.amount.toFixed(2),\n      sortable: true,\n    },\n    {\n      name: 'Payment Mode',\n      selector: (row) => row.paymentId.paymentMode,\n      sortable: true,\n    },\n    {\n      name: 'Payment Status',\n      selector: (row) => row.paymentId.paymentStatus,\n      sortable: true,\n    },\n    {\n      name: 'Party Type',\n      selector: (row) => row.partyType,\n      sortable: true,\n    },\n    {\n      name: 'Payment Date',\n      selector: (row) => new Date(row.createdAt).toLocaleDateString('en-GB', { day: '2-digit', month: 'long', year: 'numeric' }),\n      sortable: true,\n    },\n    {\n      name: 'Actions',\n      width: \"130px\",\n      cell: (row) => (\n        <>\n          <Button onClick={(event) => {\n            setAnchorEl(event.currentTarget);\n            setTempData(row)\n          }} style={{ color: color.actionButton }} variant='outlined' endIcon={<ArrowDropDownIcon />}>Action</Button>\n          <Menu\n            id=\"basic-menu\"\n            anchorEl={anchorEl}\n            open={openMenu}\n            onClose={() => {\n              setAnchorEl(null);\n              setTempData({});\n            }}\n            MenuListProps={{\n              'aria-labelledby': 'basic-button',\n            }}\n          >\n            <MenuItem onClick={() => {\n            }}>View</MenuItem>\n            <MenuItem onClick={() => {\n            }}>Print</MenuItem>\n            <MenuItem onClick={() => {\n            }}>Share via Whatsapp</MenuItem>\n            <MenuItem onClick={() => {\n            }}>Share via Email</MenuItem>\n            <MenuItem onClick={() => {\n            }}>Delete</MenuItem>\n\n          </Menu>\n        </>\n      ),\n    },\n  ];\n\n  const filteredRecords = data.filter(filteredData => {\n    const invoiceNumberMatches = filteredData?.invoiceNumber?.toLowerCase().includes(searchQuery?.toLowerCase());\n    const customerNameMatches = filteredData?.userName?.toLowerCase().includes(searchQuery?.toLowerCase()); // Assuming 'customerName' is the key for the customer name in your data\n    const categoryNames = filteredData?.category?.toLowerCase().includes(searchQuery?.toLowerCase());\n    return invoiceNumberMatches || customerNameMatches || categoryNames;\n  });\n\n  return (\n    <Container maxWidth={settings.themeStretch ? false : 'xl'}>\n      <Typography variant=\"h4\"> Receipts </Typography>\n      <div style={{ display: 'flex', justifyContent: 'start', alignItems: 'center', marginTop: '20px', gap: '10px' }}>\n        <TextField\n          size=\"small\"\n          onChange={(e) => setSearchQuery(e.target.value)}\n          type=\"text\"\n          placeholder=\"Search by Inv/Name\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SearchIcon />\n              </InputAdornment>\n            ),\n          }}\n        />\n        <LocalizationProvider dateAdapter={AdapterDayjs} >\n          <SingleInputDateRangeField\n            size='small'\n            label=\"Date Range\"\n            value={value}\n            onChange={(newValue) => setValue(newValue)}\n          />\n        </LocalizationProvider>\n      </div>\n      <div style={{ marginTop: \"20px\" }}>\n        <DataTable\n          columns={columns}\n          data={filteredRecords}\n          pagination\n          progressPending={isLoading}\n        />\n      </div>\n\n    </Container>\n  );\n}\n","import { Helmet } from 'react-helmet-async';\n// sections\nimport ThreeView from 'src/sections/three/view';\n\n// ----------------------------------------------------------------------\n\nexport default function Page() {\n  return (\n    <>\n      <Helmet>\n        <title> Dashboard: Receipts</title>\n      </Helmet>\n\n      <ThreeView />\n    </>\n  );\n}\n"],"names":["ReceiptView","settings","useSettingsContext","enqueueSnackbar","useSnackbar","_useState","useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","isLoading","setIsLoading","_useState5","dayjs","_useState6","value","setValue","_useState7","_useState8","data","setData","_useState9","_useState10","anchorEl","setAnchorEl","openMenu","Boolean","_useState11","_useState12","setTempData","_useState13","_useState14","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","decryptedToken","accessToken","response","wrap","_context","prev","next","localStorage","getItem","constants","decryptToken","axios","endpoints","headers","Authorization","concat","sent","console","log","t0","variant","stop","apply","arguments","useEffect","columns","name","selector","row","partyType","userName","category","sortable","invoiceNumber","amount","toFixed","paymentId","paymentMode","paymentStatus","Date","createdAt","toLocaleDateString","day","month","year","width","cell","_jsxs","_Fragment","children","_jsx","Button","onClick","event","currentTarget","style","color","endIcon","ArrowDropDownIcon","Menu","id","open","onClose","MenuListProps","MenuItem","filteredRecords","filter","filteredData","_filteredData$invoice","_filteredData$userNam","_filteredData$categor","invoiceNumberMatches","toLowerCase","includes","customerNameMatches","categoryNames","Container","maxWidth","themeStretch","Typography","display","justifyContent","alignItems","marginTop","gap","TextField","size","onChange","e","target","type","placeholder","InputProps","startAdornment","InputAdornment","position","SearchIcon","LocalizationProvider","dateAdapter","AdapterDayjs","SingleInputDateRangeField","label","newValue","DataTable","pagination","progressPending","Page","Helmet","ThreeView"],"sourceRoot":""}