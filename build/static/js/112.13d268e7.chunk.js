"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[112],{32869:function(e,r,n){n.d(r,{Ds:function(){return a.Ds}});var a=n(58518);n(58764)},96112:function(e,r,n){n.r(r),n.d(r,{default:function(){return i}});var a=n(6907),t=n(50276),s=n(80184);function i(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.ql,{children:(0,s.jsx)("title",{children:" Jwt: Login"})}),(0,s.jsx)(t.Q,{})]})}},50276:function(e,r,n){n.d(r,{Q:function(){return A},$:function(){return T}});var a=n(74165),t=n(1413),s=n(15861),i=n(29439),o=n(72791),l=n(46002),d=n(63515),u=n(36314),c=n(13400),h=n(4567),m=n(63466),f=n(38072),p=n(83854),g=n(62950),x=n(33805),v=n(22459),w=n(8976),Z=n(44e3),j=n(80184);var b=n(61134);function y(e){var r=e.children,n=e.onSubmit,a=e.methods;return(0,j.jsx)(b.RV,(0,t.Z)((0,t.Z)({},a),{},{children:(0,j.jsx)("form",{onSubmit:n,children:r})}))}var k=n(93006),C=n(99615),P=n(18406),E=n(52073),N=n(32869),S=n(78184);function A(){var e=(0,w.E)().login,r=(0,g.tv)(),n=(0,o.useState)(""),f=(0,i.Z)(n,2),p=f[0],x=(f[1],(0,g.lr)(),(0,o.useState)({email:"adminuser@test.in",password:"defaultPassword",emailErr:!1,passErr:!1})),b=(0,i.Z)(x,2),C=b[0],A=b[1],D=(0,N.Ds)().enqueueSnackbar,_=(0,o.useState)(!1),q=(0,i.Z)(_,2),T=q[0],W=q[1],F=(0,v.k)(),I=function(){var r=(0,s.Z)((0,a.Z)().mark((function r(){var n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,0!==C.email.length&&n.test(C.email)){r.next=4;break}return A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{emailErr:!0})})),r.abrupt("return");case 4:if(A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{emailErr:!1})})),0!==C.password.length){r.next=8;break}return A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{passErr:!0})})),r.abrupt("return");case 8:return A((function(e){return(0,t.Z)((0,t.Z)({},e),{},{passErr:!1})})),r.prev=10,W(!0),W(!1),r.next=15,null===e||void 0===e?void 0:e(C.email,C.password);case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(10),W(!1),D(r.t0.error,{variant:"error"});case 21:case"end":return r.stop()}}),r,null,[[10,17]])})));return function(){return r.apply(this,arguments)}}();(0,o.useEffect)((function(){var e=localStorage.getItem(E._.keyUserToken);if(e){var n=(0,P.sw)(e);if(n){var a=(0,S.oO)(n),t=Math.floor(Date.now()/1e3);a.exp&&a.exp<t?(localStorage.clear(),alert("Your session has expired. Please log in again."),window.location.href="/"):r.push("/dashboard")}}}),[]);var z=(0,j.jsx)(u.Z,{spacing:2,sx:{mb:5},children:(0,j.jsx)(h.Z,{variant:"h4",children:"Sign in to Accounting Software"})}),L=(0,j.jsxs)(u.Z,{spacing:2.5,children:[!!p&&(0,j.jsx)(d.Z,{severity:"error",children:p}),(0,j.jsx)(k.Z,{name:"email",label:"Email address",value:C.email,onChange:function(e){A((function(r){return(0,t.Z)((0,t.Z)({},r),{},{email:e.target.value,emailErr:!1})}))},error:C.emailErr,helperText:C.emailErr?"Please enter valid email!":null}),(0,j.jsx)(k.Z,{name:"password",label:"Password",type:F.value?"text":"password",value:C.password,onChange:function(e){A((function(r){return(0,t.Z)((0,t.Z)({},r),{},{password:e.target.value,passErr:!1})}))},error:C.passErr,helperText:C.passErr?"Please enter valid password!":null,InputProps:{endAdornment:(0,j.jsx)(m.Z,{position:"end",children:(0,j.jsx)(c.Z,{onClick:F.onToggle,edge:"end",children:(0,j.jsx)(Z.Z,{icon:F.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,j.jsx)(l.Z,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",loading:T,onClick:I,children:"Login"})]});return(0,j.jsxs)(y,{children:[z,L]})}var D=n(4942),_=(n(8007),n(50533)),q=n(64554);function T(){var e=(0,w.E)().register,r=(0,g.tv)(),n=(0,o.useState)(""),a=(0,i.Z)(n,2),s=a[0],b=a[1],y=(0,o.useState)(!1),P=(0,i.Z)(y,2),E=P[0],N=P[1],S=(0,g.lr)(),A=S.get("name"),T=S.get("email"),W=S.get("uuid"),F=A.split(" "),I=(0,v.k)(),z={firstName:F[0],lastName:F[F.length-1],email:T,password:"",confirmPassword:""},L=(0,o.useState)(z),R=(0,i.Z)(L,2),B=R[0],G=R[1],H=function(e){var r=e.target,n=r.name,a=r.value;G((function(e){return(0,t.Z)((0,t.Z)({},e),{},(0,D.Z)({},n,a))}))},O=(0,j.jsxs)("div",{children:[!!s&&(0,j.jsx)(d.Z,{severity:"error",children:s}),(0,j.jsx)(k.Z,{name:"firstName",label:"First name",fullWidth:!0,value:B.firstName,onChange:H,sx:{mt:4,backgroundColor:"white"},required:!0}),(0,j.jsx)(k.Z,{name:"lastName",label:"Last name",fullWidth:!0,value:B.lastName,onChange:H,sx:{mt:4,backgroundColor:"white"},required:!0}),(0,j.jsx)(k.Z,{name:"email",label:"Email address",fullWidth:!0,value:B.email,onChange:H,sx:{mt:4,backgroundColor:"white"},required:!0}),(0,j.jsx)(k.Z,{name:"password",label:"Password",fullWidth:!0,type:"password",value:B.password,onChange:H,sx:{mt:4,backgroundColor:"white"},required:!0}),(0,j.jsx)(k.Z,{name:"confirmPassword",label:"Confirm Password",fullWidth:!0,value:B.confirmPassword,onChange:H,required:!0,type:I.value?"text":"password",InputProps:{endAdornment:(0,j.jsx)(m.Z,{position:"end",children:(0,j.jsx)(c.Z,{onClick:I.onToggle,edge:"end",children:(0,j.jsx)(Z.Z,{icon:I.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},sx:{mt:4,backgroundColor:"white"}}),(0,j.jsx)(l.Z,{fullWidth:!0,color:"primary",sx:{mt:4,borderRadius:"18px"},size:"large",variant:"contained",disabled:""===B.firstName||""===B.lastName||""===B.email||""===B.password||""===B.confirmPassword,loading:E,onClick:function(){return N(!0),""===B.firstName||""===B.lastName||""===B.email||""===B.password||""===B.confirmPassword?(b("All fields are required"),void N(!1)):B.password!==B.confirmPassword?(b("Password does not match"),void N(!1)):void C.ZP.post(C.Hv.auth.passwordTable.details,{email:B.email}).then((function(n){if(n.data.data){var a=n.data.data,t=a.uuidCode,s=a.expiryDate,i=new Date(s),o=new Date;t===W&&i>o?(console.log("All Right you can login now"),null===e||void 0===e||e(B.email,B.password,B.firstName,B.lastName).then((function(){r.push(x.wd)})).catch((function(e){console.error(e),b("string"===typeof e?e:e.message)})).finally((function(){N(!1)}))):(b("The link is expired"),N(!1))}else b("The link is expired"),N(!1)})).catch((function(e){console.error(e),b("string"===typeof e?e:e.message),N(!1)}))},children:"SIGN UP NOW"}),(0,j.jsxs)(u.Z,{direction:"row",spacing:.5,justifyContent:"center",children:[(0,j.jsx)(h.Z,{variant:"body2",children:" Already have an account? "}),(0,j.jsx)(_.Z,{href:f.H.auth.jwt.login,component:p.r,variant:"subtitle2",color:"#074DFF",children:"SIGN IN"})]})]});return(0,j.jsx)("div",{style:{backgroundColor:"#F3F8FB",display:"flex",alignItems:"center",flexDirection:"column",width:"100vw",height:"100vh",gap:"30px"},children:(0,j.jsxs)("div",{style:{width:"600px"},children:[(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"30px"},children:(0,j.jsx)(q.Z,{component:"img",src:"/logo/logo_single.svg",sx:{width:120,height:120,display:"flex",justifyContent:"center"}})}),O]})})}}}]);
//# sourceMappingURL=112.13d268e7.chunk.js.map