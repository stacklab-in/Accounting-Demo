"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[112],{32869:function(e,r,n){n.d(r,{Ds:function(){return a.Ds}});var a=n(58518);n(58764)},96112:function(e,r,n){n.r(r),n.d(r,{default:function(){return i}});var a=n(6907),t=n(50276),s=n(80184);function i(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.ql,{children:(0,s.jsx)("title",{children:" Jwt: Login"})}),(0,s.jsx)(t.Q,{})]})}},50276:function(e,r,n){n.d(r,{Q:function(){return N},$:function(){return D}});var a=n(74165),t=n(1413),s=n(15861),i=n(29439),l=n(72791),o=n(46002),u=n(63515),c=n(36314),d=n(13400),m=n(4567),p=n(63466),h=n(38072),x=n(83854),f=n(62950),v=n(33805),Z=n(22459),g=n(8976),j=n(44e3),b=n(45987),w=n(61134),y=n(93006),k=n(80184),E=["name","helperText","type"];function S(e){var r=e.name,n=e.helperText,a=e.type,s=(0,b.Z)(e,E),i=(0,w.Gc)().control;return(0,k.jsx)(w.Qr,{name:r,control:i,render:function(e){var r=e.field,i=e.fieldState.error;return(0,k.jsx)(y.Z,(0,t.Z)((0,t.Z)({},r),{},{fullWidth:!0,type:a,value:"number"===a&&0===r.value?"":r.value,onChange:function(e){"number"===a?r.onChange(Number(e.target.value)):r.onChange(e.target.value)},error:!!i,helperText:i?null===i||void 0===i?void 0:i.message:n},s))}})}function _(e){var r=e.children,n=e.onSubmit,a=e.methods;return(0,k.jsx)(w.RV,(0,t.Z)((0,t.Z)({},a),{},{children:(0,k.jsx)("form",{onSubmit:n,children:r})}))}n(99615);var C=n(18406),P=n(52073),q=n(32869),T=n(78184);function N(){var e=(0,g.E)().login,r=(0,f.tv)(),n=(0,l.useState)(""),h=(0,i.Z)(n,2),x=h[0],v=(h[1],(0,f.lr)(),(0,l.useState)({email:"adminuser@test.in",password:"defaultPassword",emailErr:!1,passErr:!1})),b=(0,i.Z)(v,2),w=b[0],E=b[1],S=(0,q.Ds)().enqueueSnackbar,N=(0,l.useState)(!1),A=(0,i.Z)(N,2),z=A[0],I=A[1],D=(0,Z.k)(),F=function(){var r=(0,s.Z)((0,a.Z)().mark((function r(){var n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,0!==w.email.length&&n.test(w.email)){r.next=4;break}return E((function(e){return(0,t.Z)((0,t.Z)({},e),{},{emailErr:!0})})),r.abrupt("return");case 4:if(E((function(e){return(0,t.Z)((0,t.Z)({},e),{},{emailErr:!1})})),0!==w.password.length){r.next=8;break}return E((function(e){return(0,t.Z)((0,t.Z)({},e),{},{passErr:!0})})),r.abrupt("return");case 8:return E((function(e){return(0,t.Z)((0,t.Z)({},e),{},{passErr:!1})})),r.prev=10,I(!0),I(!1),r.next=15,null===e||void 0===e?void 0:e(w.email,w.password);case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(10),I(!1),S(r.t0.error,{variant:"error"});case 21:case"end":return r.stop()}}),r,null,[[10,17]])})));return function(){return r.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=localStorage.getItem(P._.keyUserToken);if(e){var n=(0,C.sw)(e);if(n){var a=(0,T.oO)(n),t=Math.floor(Date.now()/1e3);a.exp&&a.exp<t?(localStorage.clear(),alert("Your session has expired. Please log in again."),window.location.href="/"):r.push("/dashboard")}}}),[]);var L=(0,k.jsx)(c.Z,{spacing:2,sx:{mb:5},children:(0,k.jsx)(m.Z,{variant:"h4",children:"Sign in to Accounting Software"})}),Q=(0,k.jsxs)(c.Z,{spacing:2.5,children:[!!x&&(0,k.jsx)(u.Z,{severity:"error",children:x}),(0,k.jsx)(y.Z,{name:"email",label:"Email address",value:w.email,onChange:function(e){E((function(r){return(0,t.Z)((0,t.Z)({},r),{},{email:e.target.value,emailErr:!1})}))},error:w.emailErr,helperText:w.emailErr?"Please enter valid email!":null}),(0,k.jsx)(y.Z,{name:"password",label:"Password",type:D.value?"text":"password",value:w.password,onChange:function(e){E((function(r){return(0,t.Z)((0,t.Z)({},r),{},{password:e.target.value,passErr:!1})}))},error:w.passErr,helperText:w.passErr?"Please enter valid password!":null,InputProps:{endAdornment:(0,k.jsx)(p.Z,{position:"end",children:(0,k.jsx)(d.Z,{onClick:D.onToggle,edge:"end",children:(0,k.jsx)(j.Z,{icon:D.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,k.jsx)(o.Z,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",loading:z,onClick:F,children:"Login"})]});return(0,k.jsxs)(_,{children:[L,Q]})}var A=n(8007),z=n(44695),I=n(50533);function D(){var e=(0,g.E)().register,r=(0,f.tv)(),n=(0,l.useState)(""),t=(0,i.Z)(n,2),b=t[0],y=t[1],E=(0,f.lr)().get("returnTo"),C=(0,Z.k)(),P=A.Ry().shape({firstName:A.Z_().required("First name required"),lastName:A.Z_().required("Last name required"),email:A.Z_().required("Email is required").email("Email must be a valid email address"),password:A.Z_().required("Password is required")}),q=(0,w.cI)({resolver:(0,z.X)(P),defaultValues:{firstName:"",lastName:"",email:"",password:""}}),T=q.reset,N=q.handleSubmit,D=q.formState.isSubmitting,F=N(function(){var n=(0,s.Z)((0,a.Z)().mark((function n(t){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,null===e||void 0===e?void 0:e(t.email,t.password,t.firstName,t.lastName);case 3:r.push(E||v.wd),n.next=11;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0),T(),y("string"===typeof n.t0?n.t0:n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()),L=(0,k.jsxs)(c.Z,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,k.jsx)(m.Z,{variant:"h4",children:"Get started absolutely free"}),(0,k.jsxs)(c.Z,{direction:"row",spacing:.5,children:[(0,k.jsx)(m.Z,{variant:"body2",children:" Already have an account? "}),(0,k.jsx)(I.Z,{href:h.H.auth.jwt.login,component:x.r,variant:"subtitle2",children:"Sign in"})]})]}),Q=(0,k.jsxs)(m.Z,{component:"div",sx:{color:"text.secondary",mt:2.5,typography:"caption",textAlign:"center"},children:["By signing up, I agree to ",(0,k.jsx)(I.Z,{underline:"always",color:"text.primary",children:"Terms of Service"})," and ",(0,k.jsx)(I.Z,{underline:"always",color:"text.primary",children:"Privacy Policy"}),"."]}),W=(0,k.jsx)(_,{methods:q,onSubmit:F,children:(0,k.jsxs)(c.Z,{spacing:2.5,children:[!!b&&(0,k.jsx)(u.Z,{severity:"error",children:b}),(0,k.jsxs)(c.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(S,{name:"firstName",label:"First name"}),(0,k.jsx)(S,{name:"lastName",label:"Last name"})]}),(0,k.jsx)(S,{name:"email",label:"Email address"}),(0,k.jsx)(S,{name:"password",label:"Password",type:C.value?"text":"password",InputProps:{endAdornment:(0,k.jsx)(p.Z,{position:"end",children:(0,k.jsx)(d.Z,{onClick:C.onToggle,edge:"end",children:(0,k.jsx)(j.Z,{icon:C.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,k.jsx)(o.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:D,children:"Create account"})]})});return(0,k.jsxs)(k.Fragment,{children:[L,W,Q]})}}}]);
//# sourceMappingURL=112.6316914c.chunk.js.map