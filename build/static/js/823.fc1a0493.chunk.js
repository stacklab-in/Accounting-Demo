"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[823],{32869:function(e,n,i){i.d(n,{Ds:function(){return r.Ds}});var r=i(58518);i(58764)},30823:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var r=i(6907),t=i(74165),l=i(15861),a=i(1413),s=i(29439),o=i(72791),d=i(8007),c=i(89164),u=i(4567),x=i(57088),m=i(30439),p=i(93006),h=i(63466),v=i(42419),f=i(42716),g=i(5130),b=i(8976),j=i(52073),y=i(18406),Z=i(99615),w=i(32869),N=i(80184);function I(){var e,n,i=(0,o.useRef)(),r=(0,x.K$)(),I=(0,b.E)().user,C=(0,w.Ds)().enqueueSnackbar,k=(0,o.useState)({id:"",name:"",profileImage:null,email:"",mobileNumber:""}),D=(0,s.Z)(k,2),E=D[0],P=D[1];(0,o.useEffect)((function(){var e,n,i,r,t;I&&P({id:null!==(e=I._id)&&void 0!==e?e:"",name:null!==(n=null===I||void 0===I?void 0:I.name)&&void 0!==n?n:"",profileImage:null!==(i=null===I||void 0===I?void 0:I.profileImage)&&void 0!==i?i:null,email:null!==(r=null===I||void 0===I?void 0:I.email)&&void 0!==r?r:"",mobileNumber:null!==(t=null===I||void 0===I?void 0:I.mobileNumber)&&void 0!==t?t:""})}),[I]);var _=d.Ry().shape({name:d.Z_().required("Name is required").matches(/^[A-Za-z\s]+$/,"Name must contain only letters and spaces"),mobileNumber:d.Z_().required("Mobile Number is required").matches(/^[0-9]+$/,"Mobile Number must be a valid number").length(10,"Mobile Number must be exactly 10 digits")}),A=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var n,i,r,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(j._.keyUserToken),i=(0,y.sw)(n),e.next=5,_.validate(E,{abortEarly:!1});case 5:return(r=new FormData).append("id",E.id),r.append("name",E.name),r.append("mobileNumber",E.mobileNumber),r.append("profileImage",E.profileImage),Array.from(r.entries()).forEach((function(e){console.log(e[0],", ",e[1])})),e.next=13,Z.ZP.post(Z.Hv.user.update,r,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"multipart/form-data"}});case 13:e.sent&&(console.log("saved Data"),C("Data Updated",{variant:"success"})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),"ValidationError"===e.t0.name?(l=e.t0.errors.join(", "),C(l,{variant:"error"})):C(e.t0.message||"Something went wrong!",{variant:"error"});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(c.Z,{maxWidth:!r.themeStretch&&"xl",children:[(0,N.jsx)(u.Z,{variant:"h4",children:" User profile "}),(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"30px",gap:"20px",width:"700px"},children:[(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)("div",{children:(0,N.jsx)(u.Z,{variant:"h6",children:"Profile Image "})}),E.profileImage?(0,N.jsxs)("div",{style:{position:"relative",marginRight:"150px"},children:[(0,N.jsx)("img",{src:E.profileImage,alt:"Profile",style:{width:"150px",height:"150px",borderRadius:"8px",border:"1px solid grey"}}),(0,N.jsx)(m.Z,{color:"error",variant:"outlined",onClick:function(){return P((function(e){return(0,a.Z)((0,a.Z)({},e),{},{profileImage:null})}))},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,N.jsx)(g.Z,{})})]}):(0,N.jsxs)("div",{style:{display:"flex",backgroundColor:"#F6F6F6",justifyContent:"center",alignItems:"center",width:"150px",height:"150px",borderRadius:"8px",marginRight:"150px"},children:[(0,N.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var n=e.target.files[0];if(n){var i=new FileReader;i.onload=function(){P((function(e){return(0,a.Z)((0,a.Z)({},e),{},{profileImage:i.result})}))},i.readAsDataURL(n)}},ref:i}),(0,N.jsx)(m.Z,{onClick:function(){return i.current.click()},children:(0,N.jsx)(v.Z,{})})]})]}),(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)("div",{children:(0,N.jsx)(u.Z,{variant:"h6",children:"Name"})}),(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,N.jsx)(u.Z,{variant:"h6",sx:{mr:5},children:":"}),(0,N.jsx)("div",{children:(0,N.jsx)(p.Z,{fullWidth:!0,label:"Name",onChange:function(e){var n=e.target.value;P((function(e){return(0,a.Z)((0,a.Z)({},e),{},{name:n})}))},sx:{width:"300px"},placeholder:"Enter Name",value:null!==(e=null===E||void 0===E?void 0:E.name)&&void 0!==e?e:""})})]})]}),(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)("div",{children:(0,N.jsx)(u.Z,{variant:"h6",children:"Email"})}),(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,N.jsx)(u.Z,{variant:"h6",sx:{mr:5},children:":"}),(0,N.jsx)("div",{children:(0,N.jsx)(p.Z,{sx:{width:"300px"},label:"Email Address",placeholder:"abc@gmail.com",disabled:!0,value:null!==(n=null===E||void 0===E?void 0:E.email)&&void 0!==n?n:""})})]})]}),(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)("div",{children:(0,N.jsx)(u.Z,{variant:"h6",children:"Phone Number"})}),(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,N.jsx)(u.Z,{variant:"h6",sx:{mr:5},children:":"}),(0,N.jsx)("div",{children:(0,N.jsx)(p.Z,{type:"number",sx:{width:"300px"},label:"Phone Number",value:E.mobileNumber,onChange:function(e){var n=e.target.value;""!==n&&Number.isNaN(n)||n.length<=10&&P((function(e){return(0,a.Z)((0,a.Z)({},e),{},{mobileNumber:n})}))},placeholder:"xxxxxxxxxx",inputProps:{maxLength:10},InputProps:{startAdornment:(0,N.jsxs)(h.Z,{position:"start",children:[(0,N.jsx)(f.Z,{})," +91"]})}})})]})]})]}),(0,N.jsx)("div",{style:{paddingTop:"20px",paddingLeft:"20px"},children:(0,N.jsx)(m.Z,{variant:"contained",color:"primary",disabled:!E.name||!E.mobileNumber,onClick:A,children:" SAVE & UPDATE"})})]})}function C(){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(r.ql,{children:(0,N.jsx)("title",{children:" Settings : User Profile"})}),(0,N.jsx)(I,{})]})}},5130:function(e,n,i){var r=i(64836);n.Z=void 0;var t=r(i(45649)),l=i(80184);n.Z=(0,t.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},42716:function(e,n,i){var r=i(64836);n.Z=void 0;var t=r(i(45649)),l=i(80184);n.Z=(0,t.default)((0,l.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")}}]);
//# sourceMappingURL=823.fc1a0493.chunk.js.map