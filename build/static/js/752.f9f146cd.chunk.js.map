{"version":3,"file":"static/js/752.f9f146cd.chunk.js","mappings":"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","sources":["sections/reports-management/purchaseReturnReport.js","../node_modules/@mui/icons-material/Search.js"],"sourcesContent":["import { Button, Chip, Container, InputAdornment, Menu, MenuItem, Stack, TextField, Typography } from '@mui/material';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useSettingsContext } from 'src/components/settings';\r\nimport { color, decryptToken, formatObj } from 'src/utils/common';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport { useState, useEffect } from 'react';\r\nimport { constants } from 'src/utils/constant';\r\nimport axios, { endpoints } from 'src/utils/axios';\r\nimport { useSnackbar } from 'src/components/snackbar';\r\nimport DataTable from 'react-data-table-component';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\n// sections\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function PurchaseReturnReport() {\r\n    const settings = useSettingsContext();\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [list, setList] = useState([]);\r\n    const [tempData, setTempData] = useState([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    // For Actions Dropdown\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const openMenu = Boolean(anchorEl);\r\n\r\n    const fetchData = async () => {\r\n\r\n        try {\r\n            const decryptedToken = localStorage.getItem(constants.keyUserToken);\r\n            const accessToken = decryptToken(decryptedToken);\r\n            const response = await axios.post(endpoints.purchaseReturn.list, {}, {\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            });\r\n            if (response) {\r\n                setIsLoading(false);\r\n                setList(response.data.data);\r\n                setTempData(response.data.data);\r\n            }\r\n        } catch (err) {\r\n            enqueueSnackbar('Failed to fetch purchase orders!', { variant: 'error' });\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        fetchData();\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const columns = [\r\n        {\r\n            name: 'Vendor Name',\r\n            selector: row => row.vendorId.name,\r\n            sortable: 'true',\r\n        },\r\n        {\r\n            name: 'Invoice Number',\r\n            selector: row => row.invoiceNumber,\r\n        },\r\n        {\r\n            name: 'Amount',\r\n            selector: row => row.totalAmount.toFixed(2),\r\n            sortable: 'true',\r\n        },\r\n        {\r\n            name: 'Payment Mode',\r\n            selector: row => row.payments[0].paymentID.paymentMode,\r\n            sortable: 'true',\r\n        },\r\n        {\r\n            name: 'Invoice Date',\r\n            selector: row => new Date(row.createdAt).toLocaleDateString('en-GB', { day: '2-digit', month: 'long', year: 'numeric' }),\r\n            sortable: 'true'\r\n        },\r\n    ];\r\n\r\n    const filtered = list.filter((data) =>\r\n        data?.vendorId.name?.toLowerCase().includes(searchQuery?.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <Container maxWidth={settings.themeStretch ? false : 'xl'}>\r\n            <Helmet>\r\n                <title> Reports: Purchase Return Report</title>\r\n            </Helmet>\r\n\r\n            <Typography variant=\"h4\"> Purchase Return Report </Typography>\r\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: \"space-between\", marginTop: \"20px\" }}>\r\n                <Stack direction=\"row\" spacing={1}>\r\n                    <Chip\r\n                        label={`Total Amount : ${list.length > 0 ? formatObj.format(list.reduce((accumulator, currentValue) => accumulator + currentValue.totalAmount, 0)) : formatObj.format(0)}`}\r\n                        variant=\"outlined\"\r\n                    />\r\n                </Stack>\r\n\r\n                <Stack>\r\n                    <Button style={{ color: color.actionButton }} endIcon={<ArrowDropDownIcon />} variant='outlined' onClick={(e) => setAnchorEl(e.currentTarget)}>\r\n                        ACTIONS\r\n                    </Button>\r\n                    <Menu\r\n                        id=\"basic-menu\"\r\n                        anchorEl={anchorEl}\r\n                        open={openMenu}\r\n                        onClose={() => {\r\n                            setAnchorEl(null);\r\n                            setTempData({});\r\n                        }}\r\n                        MenuListProps={{\r\n                            'aria-labelledby': 'basic-button',\r\n                        }}\r\n                    >\r\n\r\n                        <MenuItem onClick={() => {\r\n                        }}>Print</MenuItem>\r\n\r\n                        <MenuItem onClick={() => {\r\n                        }}>Download</MenuItem>\r\n\r\n                    </Menu>\r\n                </Stack>\r\n            </div>\r\n            <div style={{ display: \"flex\", marginTop: \"8px\" }}>\r\n                <TextField\r\n                    placeholder='Search'\r\n                    size='small'\r\n                    value={searchQuery}\r\n                    onChange={e => setSearchQuery(e.target.value)}\r\n                    InputProps={{\r\n                        startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                                <SearchIcon />\r\n                            </InputAdornment>\r\n                        ),\r\n                    }}\r\n                />\r\n            </div>\r\n            <div style={{ marginTop: \"20px\" }}>\r\n                <DataTable\r\n                    columns={columns}\r\n                    data={filtered}\r\n                    pagination\r\n                    progressPending={isLoading}\r\n                />\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14\"\n}), 'Search');"],"names":["PurchaseReturnReport","settings","useSettingsContext","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","list","setList","_useState5","_useState6","setTempData","_useState7","_useState8","searchQuery","setSearchQuery","enqueueSnackbar","useSnackbar","_useState9","_useState10","anchorEl","setAnchorEl","openMenu","Boolean","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","decryptedToken","accessToken","response","wrap","_context","prev","next","localStorage","getItem","constants","decryptToken","axios","endpoints","headers","Authorization","concat","sent","data","t0","variant","stop","apply","arguments","useEffect","columns","name","selector","row","vendorId","sortable","invoiceNumber","totalAmount","toFixed","payments","paymentID","paymentMode","Date","createdAt","toLocaleDateString","day","month","year","filtered","filter","_data$vendorId$name","toLowerCase","includes","_jsxs","Container","maxWidth","themeStretch","children","_jsx","Helmet","Typography","style","display","flexDirection","justifyContent","marginTop","Stack","direction","spacing","Chip","label","length","formatObj","reduce","accumulator","currentValue","Button","color","endIcon","ArrowDropDownIcon","onClick","e","currentTarget","Menu","id","open","onClose","MenuListProps","MenuItem","TextField","placeholder","size","value","onChange","target","InputProps","startAdornment","InputAdornment","position","SearchIcon","DataTable","pagination","progressPending","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d"],"sourceRoot":""}