(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[824],{32869:function(e,n,t){"use strict";t.d(n,{Ds:function(){return r.Ds}});var r=t(58518);t(58764)},25824:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(6907),a=t(4942),u=t(1413),o=t(74165),c=t(15861),i=t(29439),s=t(12065),l=t(64554),d=t(89164),f=t(4567),p=t(57088),h=t(72791),v=t(30439),Z=t(25228),x=t(61474),g=t(61889),m=t(48550),b=t(63466),j=t(73590),P=t(5403),k=t(43513),y=t(52073),w=t(18406),S=t(99615),C=t(88014),_=t(32869),B=t(8976),V=t(80184),I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:3};function A(){var e,n,t=(0,p.K$)(),r=(0,B.E)().user,A=(0,_.Ds)().enqueueSnackbar,F=(0,h.useState)("one"),z=(0,i.Z)(F,2),E=z[0],R=z[1],H=(0,h.useState)(""),U=(0,i.Z)(H,2),M=U[0],W=U[1],q=(0,h.useState)(!1),D=(0,i.Z)(q,2),N=D[0],O=D[1],T=(0,h.useState)(!1),G=(0,i.Z)(T,2),L=(G[0],G[1]),$=(0,h.useState)(!1),K=(0,i.Z)($,2),J=K[0],Q=K[1],X=(0,h.useState)([]),Y=(0,i.Z)(X,2),ee=Y[0],ne=Y[1],te=(0,h.useState)({_id:"",percentageValue:"",value:""}),re=(0,i.Z)(te,2),ae=re[0],ue=re[1],oe=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var n,t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(y._.keyUserToken),t=(0,w.sw)(n),e.next=5,S.ZP.post(S.Hv.productBarcodeValues.details,{},{headers:{Authorization:"Bearer ".concat(t)}});case 5:(r=e.sent)&&(console.log(r),L(!1),r.data.data&&Object.keys(r.data.data).length>0&&ue(r.data.data)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),A("Failed to fetch Barcode Values!",{variant:"error"}),L(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ce=function(e,n){ue((function(t){return(0,u.Z)((0,u.Z)({},t),{},(0,a.Z)({},e,n))}))},ie=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var n,t,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(y._.keyUserToken),t=(0,w.sw)(n),e.next=5,S.ZP.post(S.Hv.productBarcodeValues.list,{},{headers:{Authorization:"Bearer ".concat(t)}});case 5:(r=e.sent)&&(Q(!1),ne(r.data.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),A("Failed to fetch products!",{variant:"error"}),Q(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),se=(0,h.useState)(null),le=(0,i.Z)(se,2),de=le[0],fe=(le[1],Boolean(de),(0,h.useState)({})),pe=(0,i.Z)(fe,2);pe[0],pe[1];(0,h.useEffect)((function(){L(!0),oe(),Q(!0),ie()}),[]);var he=function(){return O(!1)},ve=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var n,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem(y._.keyUserToken),t=(0,w.sw)(n),S.ZP.post(S.Hv.productBarcodeValues.add,ae,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){A("Barcode Values created successfully!",{variant:"success"}),ue(e.data.data),he()})).catch((function(e){A(e.error||e.msg,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var n,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem(y._.keyUserToken),t=(0,w.sw)(n),S.ZP.post(S.Hv.productBarcodeValues.update,ae,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){A("Barcode Values updated successfully!",{variant:"success"}),he()})).catch((function(e){A(e.error||e.msg,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=[{name:"Product Name",selector:function(e){return e.productId.name},sortable:!0},{name:"Product Barcode",selector:function(e){return e.barcode},sortable:!0},{name:"Last Updated",selector:function(e){return null!==e&&void 0!==e&&e.updatedAt?(0,w.p6)(e.updatedAt):"N/A"},sortable:!0,width:"250px"},{name:"Actions",center:"true",cell:function(e){return(0,V.jsx)(v.Z,{onClick:function(){},style:{color:w.$_.actionButton},variant:"outlined",endIcon:(0,V.jsx)(C.Z,{}),children:"Print"})}}],ge=ee.filter((function(e){var n;return null===e||void 0===e||null===(n=e.barcode)||void 0===n?void 0:n.toString().includes(M)}));return(0,V.jsxs)(d.Z,{maxWidth:!t.themeStretch&&"xl",children:[(0,V.jsx)(f.Z,{variant:"h4",children:" Product Barcode "}),(0,V.jsxs)(Z.Z,{sx:{mt:2},value:E,onChange:function(e,n){R(n)},textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",children:[(0,V.jsx)(x.Z,{value:"one",label:"Barcode"}),(0,V.jsx)(x.Z,{value:"two",label:"Barcode Values"})]}),"one"===E&&(0,V.jsx)(l.Z,{sx:{mt:2,width:1,p:2,borderRadius:2,bgcolor:function(e){return(0,s.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:(0,V.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(g.ZP,{item:!0,xs:12,children:(0,V.jsx)(m.Z,{size:"small",onChange:function(e){return W(e.target.value)},type:"text",placeholder:"Search Barcode",InputProps:{endAdornment:(0,V.jsx)(b.Z,{position:"end",children:(0,V.jsx)(P.Z,{})})}})}),(0,V.jsx)(g.ZP,{item:!0,xs:12,children:(0,V.jsx)(k.ZP,{style:{borderRadius:"20px"},title:"Barcodes",data:ge,columns:xe,progressPending:J,pagination:!0})})]})}),"two"===E&&(0,V.jsx)(l.Z,{sx:{mt:2,width:1,p:2,borderRadius:2,bgcolor:function(e){return(0,s.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:(0,V.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(g.ZP,{item:!0,xs:6,children:(0,V.jsx)(m.Z,{fullWidth:!0,label:"Percentage Value",name:"percentageValue",value:ae.percentageValue,InputProps:{endAdornment:(0,V.jsx)(b.Z,{position:"end",children:"%"})},disabled:!0})}),(0,V.jsx)(g.ZP,{item:!0,xs:6,children:(0,V.jsx)(m.Z,{fullWidth:!0,label:"Value",name:"value",value:ae.value,disabled:!0})}),(null===r||void 0===r||null===(e=r.permissions)||void 0===e||null===(n=e.product)||void 0===n?void 0:n.u)&&(0,V.jsx)(g.ZP,{item:!0,xs:12,children:(0,V.jsx)(v.Z,{variant:"contained",onClick:function(){return O(!0)},children:"CONFIGURE"})})]})}),(0,V.jsx)(j.Z,{open:N,children:(0,V.jsx)(l.Z,{sx:I,children:(0,V.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(g.ZP,{item:!0,xs:6,children:(0,V.jsx)(m.Z,{fullWidth:!0,type:"number",label:"Percentage Value",name:"percentageValue",value:ae.percentageValue,InputProps:{endAdornment:(0,V.jsx)(b.Z,{position:"end",children:"%"})},onChange:function(e){return ce("percentageValue",e.target.value)}})}),(0,V.jsx)(g.ZP,{item:!0,xs:6,children:(0,V.jsx)(m.Z,{fullWidth:!0,type:"number",label:"Value",name:"value",value:ae.value,onChange:function(e){return ce("value",e.target.value)}})}),(0,V.jsxs)(g.ZP,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",gap:"10px",children:[(0,V.jsx)(v.Z,{variant:"contained",onClick:function(){ae._id.length>0?Ze():ve()},disabled:!ae.percentageValue||!ae.value,children:"CONFIGURE"}),(0,V.jsx)(v.Z,{variant:"contained",color:"error",onClick:he,children:"Cancel"})]})]})})})]})}function F(){return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(r.ql,{children:(0,V.jsx)("title",{children:" Dashboard : Barcodes"})}),(0,V.jsx)(A,{})]})}},88014:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var a=r(t(45649)),u=t(80184);n.Z=(0,a.default)((0,u.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print")},5403:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var a=r(t(45649)),u=t(80184);n.Z=(0,a.default)((0,u.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},45649:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=t(54421)},54421:function(e,n,t){"use strict";t.r(n),t.d(n,{capitalize:function(){return a.Z},createChainedFunction:function(){return u},createSvgIcon:function(){return o.Z},debounce:function(){return c.Z},deprecatedPropType:function(){return i},isMuiElement:function(){return s.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return j},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return v.Z},unsupportedProp:function(){return Z},useControlled:function(){return x.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return b.Z}});var r=t(55902),a=t(14036),u=t(78949).Z,o=t(74223),c=t(83199);var i=function(e,n){return function(){return null}},s=t(19103),l=t(98301),d=t(17602);t(87462);var f=function(e,n){return function(){return null}},p=t(62971).Z,h=t(40162),v=t(67384);var Z=function(e,n,t,r,a){return null},x=t(98278),g=t(89683),m=t(42071),b=t(23031),j={configure:function(e){r.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=824.dcc419cc.chunk.js.map