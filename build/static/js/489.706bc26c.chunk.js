"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[489],{32869:function(e,t,r){r.d(t,{Ds:function(){return a.Ds}});var a=r(58518);r(58764)},3489:function(e,t,r){r.r(t),r.d(t,{default:function(){return ie}});var a=r(74165),o=r(15861),n=r(29439),i=r(89164),s=r(4567),c=r(87462),l=r(63366),d=r(72791),p=r(28182),u=r(94419),h=r(31402),v=r(66934),f=r(75878),m=r(21217);function g(e){return(0,m.Z)("MuiTableContainer",e)}(0,f.Z)("MuiTableContainer",["root"]);var x=r(80184),Z=["className","component"],y=(0,v.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,t){return t.root}})({width:"100%",overflowX:"auto"}),b=d.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiTableContainer"}),a=r.className,o=r.component,n=void 0===o?"div":o,i=(0,l.Z)(r,Z),s=(0,c.Z)({},r,{component:n}),d=function(e){var t=e.classes;return(0,u.Z)({root:["root"]},g,t)}(s);return(0,x.jsx)(y,(0,c.Z)({ref:t,as:n,className:(0,p.Z)(d.root,a),ownerState:s},i))}));var j=d.createContext();function k(e){return(0,m.Z)("MuiTable",e)}(0,f.Z)("MuiTable",["root","stickyHeader"]);var w=["className","component","padding","size","stickyHeader"],M=(0,v.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,r=e.ownerState;return(0,c.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,c.Z)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},r.stickyHeader&&{borderCollapse:"separate"})})),T="table",R=d.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiTable"}),a=r.className,o=r.component,n=void 0===o?T:o,i=r.padding,s=void 0===i?"normal":i,v=r.size,f=void 0===v?"medium":v,m=r.stickyHeader,g=void 0!==m&&m,Z=(0,l.Z)(r,w),y=(0,c.Z)({},r,{component:n,padding:s,size:f,stickyHeader:g}),b=function(e){var t=e.classes,r={root:["root",e.stickyHeader&&"stickyHeader"]};return(0,u.Z)(r,k,t)}(y),R=d.useMemo((function(){return{padding:s,size:f,stickyHeader:g}}),[s,f,g]);return(0,x.jsx)(j.Provider,{value:R,children:(0,x.jsx)(M,(0,c.Z)({as:n,role:n===T?null:"table",ref:t,className:(0,p.Z)(b.root,a),ownerState:y},Z))})}));var S=d.createContext();function H(e){return(0,m.Z)("MuiTableHead",e)}(0,f.Z)("MuiTableHead",["root"]);var C=["className","component"],z=(0,v.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-header-group"}),N={variant:"head"},P="thead",A=d.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiTableHead"}),a=r.className,o=r.component,n=void 0===o?P:o,i=(0,l.Z)(r,C),s=(0,c.Z)({},r,{component:n}),d=function(e){var t=e.classes;return(0,u.Z)({root:["root"]},H,t)}(s);return(0,x.jsx)(S.Provider,{value:N,children:(0,x.jsx)(z,(0,c.Z)({as:n,className:(0,p.Z)(d.root,a),ref:t,role:n===P?null:"rowgroup",ownerState:s},i))})})),W=r(4942),G=r(12065),O=r(61613),_=["className","component","hover","selected"],D=(0,v.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((function(e){var t,r=e.theme;return t={color:"inherit",display:"table-row",verticalAlign:"middle",outline:0},(0,W.Z)(t,"&.".concat(O.Z.hover,":hover"),{backgroundColor:(r.vars||r).palette.action.hover}),(0,W.Z)(t,"&.".concat(O.Z.selected),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,G.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,G.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity)}}),t})),q=d.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiTableRow"}),a=r.className,o=r.component,n=void 0===o?"tr":o,i=r.hover,s=void 0!==i&&i,v=r.selected,f=void 0!==v&&v,m=(0,l.Z)(r,_),g=d.useContext(S),Z=(0,c.Z)({},r,{component:n,hover:s,selected:f,head:g&&"head"===g.variant,footer:g&&"footer"===g.variant}),y=function(e){var t=e.classes,r={root:["root",e.selected&&"selected",e.hover&&"hover",e.head&&"head",e.footer&&"footer"]};return(0,u.Z)(r,O.G,t)}(Z);return(0,x.jsx)(D,(0,c.Z)({as:n,ref:t,className:(0,p.Z)(y.root,a),role:"tr"===n?null:"row",ownerState:Z},m))})),B=q,F=r(14036),I=r(90618),E=["align","className","component","padding","scope","size","sortDirection","variant"],L=(0,v.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],t["size".concat((0,F.Z)(r.size))],"normal"!==r.padding&&t["padding".concat((0,F.Z)(r.padding))],"inherit"!==r.align&&t["align".concat((0,F.Z)(r.align))],r.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,r=e.ownerState;return(0,c.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,G.$n)((0,G.Fq)(t.palette.divider,1),.88):(0,G._j)((0,G.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===r.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===r.variant&&{color:(t.vars||t).palette.text.primary},"footer"===r.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===r.size&&(0,W.Z)({padding:"6px 16px"},"&.".concat(I.Z.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===r.padding&&{width:48,padding:"0 0 0 4px"},"none"===r.padding&&{padding:0},"left"===r.align&&{textAlign:"left"},"center"===r.align&&{textAlign:"center"},"right"===r.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===r.align&&{textAlign:"justify"},r.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),U=d.forwardRef((function(e,t){var r,a=(0,h.Z)({props:e,name:"MuiTableCell"}),o=a.align,n=void 0===o?"inherit":o,i=a.className,s=a.component,v=a.padding,f=a.scope,m=a.size,g=a.sortDirection,Z=a.variant,y=(0,l.Z)(a,E),b=d.useContext(j),k=d.useContext(S),w=k&&"head"===k.variant,M=f;"td"===(r=s||(w?"th":"td"))?M=void 0:!M&&w&&(M="col");var T=Z||k&&k.variant,R=(0,c.Z)({},a,{align:n,component:r,padding:v||(b&&b.padding?b.padding:"normal"),size:m||(b&&b.size?b.size:"medium"),sortDirection:g,stickyHeader:"head"===T&&b&&b.stickyHeader,variant:T}),H=function(e){var t=e.classes,r=e.variant,a=e.align,o=e.padding,n=e.size,i={root:["root",r,e.stickyHeader&&"stickyHeader","inherit"!==a&&"align".concat((0,F.Z)(a)),"normal"!==o&&"padding".concat((0,F.Z)(o)),"size".concat((0,F.Z)(n))]};return(0,u.Z)(i,I.U,t)}(R),C=null;return g&&(C="asc"===g?"ascending":"descending"),(0,x.jsx)(L,(0,c.Z)({as:r,ref:t,className:(0,p.Z)(H.root,i),"aria-sort":C,scope:M,ownerState:R},y))})),$=U;function K(e){return(0,m.Z)("MuiTableBody",e)}(0,f.Z)("MuiTableBody",["root"]);var X=["className","component"],J=(0,v.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),Q={variant:"body"},V="tbody",Y=d.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiTableBody"}),a=r.className,o=r.component,n=void 0===o?V:o,i=(0,l.Z)(r,X),s=(0,c.Z)({},r,{component:n}),d=function(e){var t=e.classes;return(0,u.Z)({root:["root"]},K,t)}(s);return(0,x.jsx)(S.Provider,{value:Q,children:(0,x.jsx)(J,(0,c.Z)({className:(0,p.Z)(d.root,a),as:n,ref:t,role:n===V?null:"rowgroup",ownerState:s},i))})})),ee=r(6907),te=r(57088),re=r(18406),ae=r(52073),oe=r(99615),ne=r(32869);r(43513);function ie(){var e=(0,te.K$)(),t=(0,d.useState)(!1),r=(0,n.Z)(t,2),c=(r[0],r[1]),l=(0,d.useState)({}),p=(0,n.Z)(l,2),u=p[0],h=p[1],v=(0,ne.Ds)().enqueueSnackbar,f=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem(ae._.keyUserToken),r=(0,re.sw)(t),e.next=5,oe.ZP.post(oe.Hv.reports.profitLoss,{},{headers:{Authorization:"Bearer ".concat(r)}});case 5:(o=e.sent)&&(c(!1),h(o.data.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),v("Failed to fetch purchase orders!",{variant:"error"}),c(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){c(!0),f()}),[]),console.log(u),(0,x.jsxs)(i.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,x.jsx)(ee.ql,{children:(0,x.jsx)("title",{children:" Reports: Profit & Loss Report"})}),(0,x.jsx)(s.Z,{variant:"h4",children:" Profit & Loss Statement "}),(0,x.jsx)("div",{style:{padding:"10px"},children:(0,x.jsx)(b,{children:(0,x.jsxs)(R,{"aria-label":"simple table",children:[(0,x.jsx)(A,{children:(0,x.jsxs)(B,{children:[(0,x.jsx)($,{children:"Transaction Type"}),(0,x.jsx)($,{children:"Total Amount"})]})}),(0,x.jsxs)(Y,{children:[Object.keys(u).length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500},children:"Sales (+) "}),(0,x.jsx)($,{children:re.MG.format(u.totalSalesAmount)||"-"})]}),(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500},children:"Purchase (-)"}),(0,x.jsx)($,{sx:{fontWeight:500},children:re.MG.format(u.totalPurchaseAmount)||"-"})]}),(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500},children:"Purchase Return (+)"}),(0,x.jsx)($,{sx:{fontWeight:500},children:re.MG.format(u.totalPurchaseReturnAmount)||"-"})]}),(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500,fontSize:24},children:"Gross Profit"}),(0,x.jsx)($,{sx:{fontWeight:500,fontSize:24},children:re.MG.format(u.grossProfit)||"-"})]}),(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500},children:"Expenses (-)"}),(0,x.jsx)($,{sx:{fontWeight:500},children:re.MG.format(u.totalExpensesAmount)||"-"})]}),(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500},children:"Income (+)"}),(0,x.jsx)($,{sx:{fontWeight:500},children:re.MG.format(u.totalIncomeAmount)||"-"})]}),(0,x.jsxs)(B,{children:[(0,x.jsx)($,{sx:{fontWeight:500,fontSize:24},children:"Net Profit"}),(0,x.jsx)($,{sx:{fontWeight:500,fontSize:24},children:re.MG.format(u.netTotal)||"-"})]})]}),0===Object.keys(u).length&&(0,x.jsx)(B,{children:(0,x.jsx)($,{colSpan:2,style:{textAlign:"center"},children:"No data available"})})]})]})})})]})}}}]);
//# sourceMappingURL=489.706bc26c.chunk.js.map