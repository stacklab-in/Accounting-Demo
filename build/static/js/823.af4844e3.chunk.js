(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[823],{32869:function(e,n,r){"use strict";r.d(n,{Ds:function(){return t.Ds}});var t=r(58518);r(58764)},30823:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return N}});var t=r(6907),i=r(74165),l=r(15861),a=r(1413),o=r(29439),s=r(72791),u=r(8007),c=r(89164),d=r(4567),f=r(57088),p=r(30439),x=r(48550),m=r(63466),v=r(42419),h=r(42716),b=r(5130),g=r(8976),j=r(52073),Z=r(18406),y=r(99615),w=r(32869),I=r(80184);function C(){var e,n,r,t,C=(0,s.useRef)(),N=(0,f.K$)(),_=(0,g.E)().user,k=(0,w.Ds)().enqueueSnackbar,P=(0,s.useState)({id:"",name:"",profileImage:null,email:"",mobileNumber:""}),D=(0,o.Z)(P,2),E=D[0],F=D[1];(0,s.useEffect)((function(){var e,n,r,t,i;_&&F({id:null!==(e=_._id)&&void 0!==e?e:"",name:null!==(n=null===_||void 0===_?void 0:_.name)&&void 0!==n?n:"",profileImage:null!==(r=null===_||void 0===_?void 0:_.profileImage)&&void 0!==r?r:null,email:null!==(t=null===_||void 0===_?void 0:_.email)&&void 0!==t?t:"",mobileNumber:null!==(i=null===_||void 0===_?void 0:_.mobileNumber)&&void 0!==i?i:""})}),[_]);var M=u.Ry().shape({name:u.Z_().required("Name is required").matches(/^[A-Za-z\s]+$/,"Name must contain only letters and spaces"),mobileNumber:u.Z_().required("Mobile Number is required").matches(/^[0-9]+$/,"Mobile Number must be a valid number").length(10,"Mobile Number must be exactly 10 digits")}),R=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){var n,r,t,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(j._.keyUserToken),r=(0,Z.sw)(n),e.next=5,M.validate(E,{abortEarly:!1});case 5:return(t=new FormData).append("id",E.id),t.append("name",E.name),t.append("mobileNumber",E.mobileNumber),t.append("profileImage",E.profileImage),Array.from(t.entries()).forEach((function(e){console.log(e[0],", ",e[1])})),e.next=13,y.ZP.post(y.Hv.user.update,t,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}});case 13:e.sent&&(console.log("saved Data"),k("Data Updated",{variant:"success"})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),"ValidationError"===e.t0.name?(l=e.t0.errors.join(", "),k(l,{variant:"error"})):k(e.t0.message||"Something went wrong!",{variant:"error"});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(c.Z,{maxWidth:!N.themeStretch&&"xl",children:[(0,I.jsx)(d.Z,{variant:"h4",children:" User profile "}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"30px",gap:"20px",width:"700px"},children:[(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,I.jsx)("div",{children:(0,I.jsx)(d.Z,{variant:"h6",children:"Profile Image "})}),E.profileImage?(0,I.jsxs)("div",{style:{position:"relative",marginRight:"150px"},children:[(0,I.jsx)("img",{src:E.profileImage,alt:"Profile",style:{width:"150px",height:"150px",borderRadius:"8px",border:"1px solid grey"}}),(0,I.jsx)(p.Z,{color:"error",variant:"outlined",onClick:function(){return F((function(e){return(0,a.Z)((0,a.Z)({},e),{},{profileImage:null})}))},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,I.jsx)(b.Z,{})})]}):(0,I.jsxs)("div",{style:{display:"flex",backgroundColor:"#F6F6F6",justifyContent:"center",alignItems:"center",width:"150px",height:"150px",borderRadius:"8px",marginRight:"150px"},children:[(0,I.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var n=e.target.files[0];if(n){var r=new FileReader;r.onload=function(){F((function(e){return(0,a.Z)((0,a.Z)({},e),{},{profileImage:r.result})}))},r.readAsDataURL(n)}},ref:C}),(0,I.jsx)(p.Z,{onClick:function(){return C.current.click()},children:(0,I.jsx)(v.Z,{})})]})]}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,I.jsx)("div",{children:(0,I.jsx)(d.Z,{variant:"h6",children:"Name"})}),(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,I.jsx)(d.Z,{variant:"h6",sx:{mr:5},children:":"}),(0,I.jsx)("div",{children:(0,I.jsx)(x.Z,{fullWidth:!0,label:"Name",onChange:function(e){var n=e.target.value;F((function(e){return(0,a.Z)((0,a.Z)({},e),{},{name:n})}))},sx:{width:"300px"},placeholder:"Enter Name",value:null!==(e=null===E||void 0===E?void 0:E.name)&&void 0!==e?e:""})})]})]}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,I.jsx)("div",{children:(0,I.jsx)(d.Z,{variant:"h6",children:"Email"})}),(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,I.jsx)(d.Z,{variant:"h6",sx:{mr:5},children:":"}),(0,I.jsx)("div",{children:(0,I.jsx)(x.Z,{sx:{width:"300px"},label:"Email Address",placeholder:"abc@gmail.com",disabled:!0,value:null!==(n=null===E||void 0===E?void 0:E.email)&&void 0!==n?n:""})})]})]}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,I.jsx)("div",{children:(0,I.jsx)(d.Z,{variant:"h6",children:"Phone Number"})}),(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,I.jsx)(d.Z,{variant:"h6",sx:{mr:5},children:":"}),(0,I.jsx)("div",{children:(0,I.jsx)(x.Z,{type:"number",sx:{width:"300px"},label:"Phone Number",value:E.mobileNumber,onChange:function(e){var n=e.target.value;""!==n&&Number.isNaN(n)||n.length<=10&&F((function(e){return(0,a.Z)((0,a.Z)({},e),{},{mobileNumber:n})}))},placeholder:"xxxxxxxxxx",inputProps:{maxLength:10},InputProps:{startAdornment:(0,I.jsxs)(m.Z,{position:"start",children:[(0,I.jsx)(h.Z,{})," +91"]})}})})]})]})]}),(null===_||void 0===_||null===(r=_.permissions)||void 0===r||null===(t=r.user)||void 0===t?void 0:t.u)&&(0,I.jsx)("div",{style:{paddingTop:"20px",paddingLeft:"20px"},children:(0,I.jsx)(p.Z,{variant:"contained",color:"primary",disabled:!E.name||!E.mobileNumber,onClick:R,children:" SAVE & UPDATE"})})]})}function N(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.ql,{children:(0,I.jsx)("title",{children:" Settings : User Profile"})}),(0,I.jsx)(C,{})]})}},42419:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(45649)),l=r(80184);n.Z=(0,i.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},5130:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(45649)),l=r(80184);n.Z=(0,i.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},42716:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(45649)),l=r(80184);n.Z=(0,i.default)((0,l.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},45649:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=r(54421)},54421:function(e,n,r){"use strict";r.r(n),r.d(n,{capitalize:function(){return i.Z},createChainedFunction:function(){return l},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return Z},unstable_useEnhancedEffect:function(){return x.Z},unstable_useId:function(){return m.Z},unsupportedProp:function(){return v},useControlled:function(){return h.Z},useEventCallback:function(){return b.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return j.Z}});var t=r(55902),i=r(14036),l=r(78949).Z,a=r(74223),o=r(83199);var s=function(e,n){return function(){return null}},u=r(19103),c=r(98301),d=r(17602);r(87462);var f=function(e,n){return function(){return null}},p=r(62971).Z,x=r(40162),m=r(67384);var v=function(e,n,r,t,i){return null},h=r(98278),b=r(89683),g=r(42071),j=r(23031),Z={configure:function(e){t.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=823.af4844e3.chunk.js.map