"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[239],{32869:function(e,n,i){i.d(n,{Ds:function(){return l.Ds}});var l=i(58518);i(58764)},60239:function(e,n,i){i.r(n),i.d(n,{default:function(){return $}});var l=i(6907),r=i(4942),a=i(1413),t=i(74165),o=i(15861),s=i(29439),c=i(72791),d=i(64554),u=i(89164),m=i(4567),p=i(57088),b=i(30439),h=i(71715),Z=i(82626),v=i(48550),x=i(63466),y=i(73590),g=i(61889),f=i(68096),j=i(50168),A=i(58406),N=i(5574),C=i(65661),k=i(39157),P=i(97123),S=i(26759),T=i(42419),w=i(5403),I=i(42716),D=i(18406),_=i(99615),E=i(52073),W=i(32869),L=i(43513),R=i(8976),B=i(80184),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",borderRadius:"10px",boxShadow:24,p:2,backgroundColor:D.$_.modalbackground,height:"90%",overflow:"auto"},V={id:"",name:"",email:"",mobileNumber:"",initials:"",type:"",company:{name:"",gstNumber:"",billingAddress:{line1:"",line2:"",city:"",state:"",pincode:""}}},z={name:!1,email:!1,mobileNumber:!1,type:!1,company:{name:!1,gstNumber:!1,billingAddress:{line1:!1,line2:!1,city:!1,state:!1,pincode:!1}}};function q(){var e,n,i=(0,p.K$)(),l=(0,W.Ds)().enqueueSnackbar,q=(0,R.E)().user,$=(0,c.useState)(!1),H=(0,s.Z)($,2),U=H[0],F=H[1],G=(0,c.useState)({}),O=(0,s.Z)(G,2),X=O[0],K=O[1],J=(0,c.useState)(!1),Q=(0,s.Z)(J,2),Y=Q[0],ee=Q[1],ne=(0,c.useState)([]),ie=(0,s.Z)(ne,2),le=ie[0],re=ie[1],ae=(0,c.useState)(V),te=(0,s.Z)(ae,2),oe=te[0],se=te[1],ce=(0,c.useState)(z),de=(0,s.Z)(ce,2),ue=de[0],me=de[1],pe=(0,c.useState)(!1),be=(0,s.Z)(pe,2),he=be[0],Ze=be[1],ve=(0,c.useState)(""),xe=(0,s.Z)(ve,2),ye=xe[0],ge=xe[1],fe=(0,c.useState)(null),je=(0,s.Z)(fe,2),Ae=je[0],Ne=je[1],Ce=Boolean(Ae),ke=(0,c.useState)(!1),Pe=(0,s.Z)(ke,2),Se=Pe[0],Te=Pe[1],we=function(){return F(!1)},Ie=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var n,i,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(E._.keyUserToken),i=(0,D.sw)(n),e.next=5,_.ZP.post(_.Hv.vendor.list,{},{headers:{Authorization:"Bearer ".concat(i)}});case 5:(r=e.sent)&&(ee(!1),re(r.data.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),l("Failed to fetch vendors!",{variant:"error"}),ee(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){ee(!0),Ie()}),[]);var De=function(e){var n=e.target,i=n.name,l=n.value;se((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},i,l))})),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},i,!1))}))},_e=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var n,i,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,a.Z)({},z),oe.name?n.name=!1:n.name=!0,oe.email?n.email=!1:n.email=!0,oe.mobileNumber&&/^[0-9]*$/.test(oe.mobileNumber)&&10===oe.mobileNumber.length?n.mobileNumber=!1:n.mobileNumber=!0,oe.type?n.type=!1:n.type=!0,!Object.values(n).some((function(e){return!0===e}))){e.next=8;break}return me(n),e.abrupt("return");case 8:i=localStorage.getItem(E._.keyUserToken),r=(0,D.sw)(i),_.ZP.post(_.Hv.vendor.add,oe,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){l("Vendor created successfully!",{variant:"success"}),we(),me({name:!1,email:!1,mobileNumber:!1,type:!1,company:{name:!1,gstNumber:!1,billingAddress:{line1:!1,line2:!1,city:!1,state:!1,pincode:!1}}}),se({id:"",name:"",email:"",mobileNumber:"",type:"",company:{name:"",gstNumber:"",billingAddress:{line1:"",line2:"",city:"",state:"",pincode:""}}}),Ie()})).catch((function(e){l(e.error||e.msg,{variant:"error"})}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var n,i,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,a.Z)({},z),oe.name?n.name=!1:n.name=!0,oe.email?n.email=!1:n.email=!0,oe.mobileNumber&&/^[0-9]*$/.test(oe.mobileNumber)&&10===oe.mobileNumber.length?n.mobileNumber=!1:n.mobileNumber=!0,oe.type?n.type=!1:n.type=!0,!Object.values(n).some((function(e){return!0===e}))){e.next=8;break}return me(n),e.abrupt("return");case 8:i=localStorage.getItem(E._.keyUserToken),r=(0,D.sw)(i),_.ZP.post(_.Hv.vendor.update,oe,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){l("Vendor updated successfully!",{variant:"success"}),we(),me(z),se(V),Ie()})).catch((function(e){l(e.error||e.msg,{variant:"error"})}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=[{name:"Name",selector:function(e){return e.name},sortable:!0},{name:"Initial",selector:function(e){return e.initials?e.initials:"N/A"},sortable:!0},{name:"Company Name",selector:function(e){var n,i;return void 0!==(null===e||void 0===e||null===(n=e.company)||void 0===n?void 0:n.name)&&""!==(null===e||void 0===e||null===(i=e.company)||void 0===i?void 0:i.name)?e.company.name:"N/A"},sortable:!0},{name:"Email Address",selector:function(e){return e.email},sortable:!0},{name:"Contact Number",selector:function(e){return e.mobileNumber},sortable:!0},{name:"GST Number",selector:function(e){var n,i;return void 0!==(null===e||void 0===e||null===(n=e.company)||void 0===n?void 0:n.gstNumber)&&""!==(null===e||void 0===e||null===(i=e.company)||void 0===i?void 0:i.gstNumber)?e.company.gstNumber:"N/A"},sortable:!0},{name:"Actions",cell:function(e,n){var i,l;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(b.Z,{disabled:!(null!==q&&void 0!==q&&null!==(i=q.permissions)&&void 0!==i&&null!==(l=i.vendor)&&void 0!==l&&l.u),onClick:function(n){Ne(n.currentTarget),K(e)},style:{color:D.$_.actionButton},variant:"outlined",endIcon:(0,B.jsx)(S.Z,{}),children:"Action"}),(0,B.jsxs)(h.Z,{id:"basic-menu",anchorEl:Ae,open:Ce,onClose:function(){Ne(null),K({})},MenuListProps:{"aria-labelledby":"basic-button-".concat(n)},children:[(0,B.jsx)(Z.Z,{onClick:function(){return function(){Ze(!0),Ne(null);var e={id:X._id,name:X.name,email:X.email,mobileNumber:X.mobileNumber.slice(3),type:X.type,company:{name:X.company.name,gstNumber:X.company.gstNumber,billingAddress:{line1:X.company.billingAddress.line1,line2:X.company.billingAddress.line2,city:X.company.billingAddress.city,state:X.company.billingAddress.state,pincode:X.company.billingAddress.pincode}}};se(e),F(!0),K({})}()},children:"Edit Details"}),(0,B.jsx)(Z.Z,{onClick:function(){return se((function(e){return(0,a.Z)((0,a.Z)({},e),{},{id:X._id})})),Te(!0),Ne(null),void K({})},children:"Remove"})]})]})}}],Le=le.length>0?le.filter((function(e){var n;return null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(null===ye||void 0===ye?void 0:ye.toLowerCase())})):le;return(0,B.jsxs)(u.Z,{maxWidth:!i.themeStretch&&"xl",children:[(0,B.jsx)(m.Z,{variant:"h4",children:" Vendor Master "}),(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},children:[(0,B.jsx)(v.Z,{size:"small",onChange:function(e){return ge(e.target.value)},type:"text",placeholder:"Search",InputProps:{endAdornment:(0,B.jsx)(x.Z,{position:"end",children:(0,B.jsx)(w.Z,{})})}}),(null===q||void 0===q||null===(e=q.permissions)||void 0===e||null===(n=e.vendor)||void 0===n?void 0:n.u)&&(0,B.jsx)(b.Z,{startIcon:(0,B.jsx)(T.Z,{}),variant:"contained",color:"primary",onClick:function(){F(!0),Ze(!1)},children:"ADD VENDOR"})]}),(0,B.jsx)(y.Z,{open:U,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,B.jsxs)(d.Z,{sx:M,children:[(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,B.jsx)(m.Z,{id:"modal-modal-title",variant:"h4",component:"h2",children:"Basic Details"}),(0,B.jsx)("div",{style:{padding:"10px",backgroundColor:"white",borderRadius:"10px"},children:(0,B.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Name",name:"name",value:oe.name,onChange:De,error:ue.name,helperText:ue.name?"Invalid vendor name!..":null,fullWidth:!0,required:!0})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Email",name:"email",value:oe.email,onChange:De,error:ue.email,helperText:ue.email?"Invalid vendor email!..":null,fullWidth:!0,required:!0})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Mobile Number",name:"mobileNumber",value:oe.mobileNumber,onChange:De,error:ue.mobileNumber,helperText:ue.mobileNumber?"Invalid vendor mobile number!..":null,fullWidth:!0,required:!0,inputProps:{maxLength:10},InputProps:{startAdornment:(0,B.jsxs)(x.Z,{position:"start",children:[(0,B.jsx)(I.Z,{})," +91"]})}})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsxs)(f.Z,{fullWidth:!0,children:[(0,B.jsx)(j.Z,{id:"demo-simple-select-label",children:"Type"}),(0,B.jsxs)(A.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:oe.type,label:"Type",name:"type",onChange:De,error:ue.type,children:[(0,B.jsx)(Z.Z,{value:"TAXABLE",children:"Taxable"}),(0,B.jsx)(Z.Z,{value:"EXEMPTED",children:"Exempted"})]})]})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Initials",name:"initials",placeholder:"Enter Initials",value:oe.initials,onChange:De,fullWidth:!0})})]})}),(0,B.jsx)(m.Z,{id:"modal-modal-title",variant:"h4",component:"h2",children:"Company Details"}),(0,B.jsx)("div",{style:{padding:"10px",backgroundColor:"white",borderRadius:"10px"},children:(0,B.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Company Name",fullWidth:!0,value:oe.company.name,error:ue.company.name,helperText:ue.company.name?"Invalid company name!..":null,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.name=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{name:!1})})}))}})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"GST Number",fullWidth:!0,error:ue.company.gstNumber,helperText:ue.company.gstNumber?"Invalid GST Number!..":null,value:oe.company.gstNumber,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.gstNumber=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{gstNumber:!1})})}))},inputProps:{maxLength:15}})})]})}),(0,B.jsx)("div",{style:{padding:"10px",backgroundColor:"white",borderRadius:"10px"},children:(0,B.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,B.jsx)(g.ZP,{item:!0,xs:12,children:(0,B.jsx)(m.Z,{variant:"h6",children:"Billing Address"})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Address Line 1",error:ue.company.billingAddress.line1,helperText:ue.company.billingAddress.line1?"Invalid line1 address!..":null,value:oe.company.billingAddress.line1,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.billingAddress.line1=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{billingAddress:(0,a.Z)((0,a.Z)({},e.company.billingAddress),{},{line1:!1})})})}))},fullWidth:!0})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Address Line 2",error:ue.company.billingAddress.line2,helperText:ue.company.billingAddress.line2?"Invalid line2 address!..":null,value:oe.company.billingAddress.line2,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.billingAddress.line2=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{billingAddress:(0,a.Z)((0,a.Z)({},e.company.billingAddress),{},{line2:!1})})})}))},fullWidth:!0})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"City",error:ue.company.billingAddress.city,helperText:ue.company.billingAddress.city?"Invalid city name!..":null,value:oe.company.billingAddress.city,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.billingAddress.city=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{billingAddress:(0,a.Z)((0,a.Z)({},e.company.billingAddress),{},{city:!1})})})}))},fullWidth:!0})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsxs)(f.Z,{fullWidth:!0,children:[(0,B.jsx)(j.Z,{id:"demo-simple-select-label",children:"Select State"}),(0,B.jsx)(A.Z,{labelId:"demo-simple-select-label",error:ue.company.billingAddress.state,id:"demo-simple-select",value:oe.company.billingAddress.state,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.billingAddress.state=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{billingAddress:(0,a.Z)((0,a.Z)({},e.company.billingAddress),{},{state:!1})})})}))},label:"Select State",children:D.$q.map((function(e,n){return(0,B.jsx)(Z.Z,{value:e,children:e},n)}))})]})}),(0,B.jsx)(g.ZP,{item:!0,xs:6,children:(0,B.jsx)(v.Z,{label:"Pincode",name:"pincode",value:oe.company.billingAddress.pincode,error:ue.company.billingAddress.pincode,helperText:ue.company.billingAddress.pincode?"Invalid pincode!..":null,onChange:function(e){var n=(0,a.Z)({},oe);oe.company.billingAddress.pincode=e.target.value,se(n),me((function(e){return(0,a.Z)((0,a.Z)({},e),{},{company:(0,a.Z)((0,a.Z)({},e.company),{},{billingAddress:(0,a.Z)((0,a.Z)({},e.company.billingAddress),{},{pincode:!1})})})}))},fullWidth:!0,inputProps:{maxLength:6}})})]})})]}),(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"10px",justifyContent:"flex-end",padding:"10px"},children:[(0,B.jsx)(b.Z,{variant:"contained",color:"primary",onClick:he?Ee:_e,children:he?"Update":"Save"}),(0,B.jsx)(b.Z,{variant:"outlined",onClick:function(){me(z),he&&(se(V),Ze(!1)),se({id:"",name:"",email:"",mobileNumber:"",type:"",company:{name:"",gstNumber:"",billingAddress:{line1:"",line2:"",city:"",state:"",pincode:""}}}),F(!1),K({})},children:"Cancel"})]})]})}),(0,B.jsx)("div",{style:{marginTop:"20px"},children:(0,B.jsx)(L.ZP,{columns:We,data:Le,pagination:!0,progressPending:Y})}),(0,B.jsxs)(N.Z,{open:Se,onClose:function(){return Te(!1)},children:[(0,B.jsx)(C.Z,{children:"Remove Vendor"}),(0,B.jsx)(k.Z,{children:"Are you sure you want to delete this vendor?"}),(0,B.jsxs)(P.Z,{children:[(0,B.jsx)(b.Z,{onClick:function(){return Te(!1)},children:"Cancel"}),(0,B.jsx)(b.Z,{onClick:function(){var e=localStorage.getItem(E._.keyUserToken),n=(0,D.sw)(e),i={headers:{Authorization:"Bearer ".concat(n)}};_.ZP.post(_.Hv.vendor.delete,{id:oe.id},i).then((function(e){e&&(l("Vendor deleted successfully!",{variant:"success"}),Te(!1),se(V),Ie())})).catch((function(e){l(e.msg||e.error,{variant:"error"})}))},variant:"contained",color:"error",children:"Delete"})]})]})]})}function $(){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l.ql,{children:(0,B.jsx)("title",{children:" Dashboard : Vendor"})}),(0,B.jsx)(q,{})]})}},42419:function(e,n,i){var l=i(64836);n.Z=void 0;var r=l(i(45649)),a=i(80184);n.Z=(0,r.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},42716:function(e,n,i){var l=i(64836);n.Z=void 0;var r=l(i(45649)),a=i(80184);n.Z=(0,r.default)((0,a.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},5403:function(e,n,i){var l=i(64836);n.Z=void 0;var r=l(i(45649)),a=i(80184);n.Z=(0,r.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},65661:function(e,n,i){var l=i(87462),r=i(63366),a=i(72791),t=i(28182),o=i(94419),s=i(4567),c=i(66934),d=i(31402),u=i(17673),m=i(85090),p=i(80184),b=["className","id"],h=(0,c.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),Z=a.forwardRef((function(e,n){var i=(0,d.Z)({props:e,name:"MuiDialogTitle"}),s=i.className,c=i.id,Z=(0,r.Z)(i,b),v=i,x=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},u.a,n)}(v),y=a.useContext(m.Z).titleId,g=void 0===y?c:y;return(0,p.jsx)(h,(0,l.Z)({component:"h2",className:(0,t.Z)(x.root,s),ownerState:v,ref:n,variant:"h6",id:null!=c?c:g},Z))}));n.Z=Z}}]);
//# sourceMappingURL=239.2f0f662e.chunk.js.map