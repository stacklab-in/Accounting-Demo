"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[471],{61214:function(e,t,r){r.d(t,{Z:function(){return z}});var n=r(1413),a=r(45987),o=r(64554),s=r(50533),l=r(36314),i=r(4567),c=r(93433),d=r(29439),u=r(4942),p=r(87462),m=r(63366),h=r(72791),x=(r(57441),r(28182)),f=r(94419),g=r(57271),Z=r(66934),v=r(31402),b=r(12065),j=r(74223),y=r(80184),k=(0,j.Z)((0,y.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),P=r(95080),w=["slots","slotProps"],S=(0,Z.ZP)(P.Z)((function(e){var t=e.theme;return(0,p.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,p.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,p.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,b._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,b._4)(t.palette.grey[600],.12)})})})),C=(0,Z.ZP)(k)({width:24,height:16});var I=function(e){var t=e.slots,r=void 0===t?{}:t,n=e.slotProps,a=void 0===n?{}:n,o=(0,m.Z)(e,w),s=e;return(0,y.jsx)("li",{children:(0,y.jsx)(S,(0,p.Z)({focusRipple:!0},o,{ownerState:s,children:(0,y.jsx)(C,(0,p.Z)({as:r.CollapsedIcon,ownerState:s},a.collapsedIcon))}))})},M=r(75878),B=r(21217);function D(e){return(0,B.Z)("MuiBreadcrumbs",e)}var R=(0,M.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),N=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],_=(0,Z.ZP)(i.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[(0,u.Z)({},"& .".concat(R.li),t.li),t.root]}})({}),A=(0,Z.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),E=(0,Z.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function L(e,t,r,n){return e.reduce((function(a,o,s){return s<e.length-1?a=a.concat(o,(0,y.jsx)(E,{"aria-hidden":!0,className:t,ownerState:n,children:r},"separator-".concat(s))):a.push(o),a}),[])}var Y=h.forwardRef((function(e,t){var r=(0,v.Z)({props:e,name:"MuiBreadcrumbs"}),n=r.children,a=r.className,o=r.component,s=void 0===o?"nav":o,l=r.slots,i=void 0===l?{}:l,u=r.slotProps,Z=void 0===u?{}:u,b=r.expandText,j=void 0===b?"Show path":b,k=r.itemsAfterCollapse,P=void 0===k?1:k,w=r.itemsBeforeCollapse,S=void 0===w?1:w,C=r.maxItems,M=void 0===C?8:C,B=r.separator,R=void 0===B?"/":B,E=(0,m.Z)(r,N),Y=h.useState(!1),W=(0,d.Z)(Y,2),H=W[0],T=W[1],z=(0,p.Z)({},r,{component:s,expanded:H,expandText:j,itemsAfterCollapse:P,itemsBeforeCollapse:S,maxItems:M,separator:R}),q=function(e){var t=e.classes;return(0,f.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},D,t)}(z),F=(0,g.Z)({elementType:i.CollapsedIcon,externalSlotProps:Z.collapsedIcon,ownerState:z}),O=h.useRef(null),G=h.Children.toArray(n).filter((function(e){return h.isValidElement(e)})).map((function(e,t){return(0,y.jsx)("li",{className:q.li,children:e},"child-".concat(t))}));return(0,y.jsx)(_,(0,p.Z)({ref:t,component:s,color:"text.secondary",className:(0,x.Z)(q.root,a),ownerState:z},E,{children:(0,y.jsx)(A,{className:q.ol,ref:O,ownerState:z,children:L(H||M&&G.length<=M?G:function(e){return S+P>=e.length?e:[].concat((0,c.Z)(e.slice(0,S)),[(0,y.jsx)(I,{"aria-label":j,slots:{CollapsedIcon:i.CollapsedIcon},slotProps:{collapsedIcon:F},onClick:function(){T(!0);var e=O.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,c.Z)(e.slice(e.length-P,e.length)))}(G),q.separator,R,z)})}))})),W=r(83854);function H(e){var t=e.link,r=e.activeLast,a=e.disabled,l=t.name,i=t.href,c=t.icon,d=(0,n.Z)({typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex"},a&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),u=(0,y.jsxs)(y.Fragment,{children:[c&&(0,y.jsx)(o.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:c}),l]});return i?(0,y.jsx)(s.Z,{component:W.r,href:i,sx:d,children:u}):(0,y.jsxs)(o.Z,{sx:d,children:[" ",u," "]})}var T=["links","action","heading","moreLink","activeLast","sx"];function z(e){var t=e.links,r=e.action,c=e.heading,d=e.moreLink,u=e.activeLast,p=e.sx,m=(0,a.Z)(e,T);t[t.length-1].name;return(0,y.jsxs)(o.Z,{sx:(0,n.Z)({},p),children:[(0,y.jsxs)(l.Z,{direction:"row",alignItems:"center",children:[(0,y.jsxs)(o.Z,{sx:{flexGrow:1},children:[c&&(0,y.jsx)(i.Z,{variant:"h4",gutterBottom:!0,children:c}),!!t.length&&(0,y.jsx)(Y,(0,n.Z)((0,n.Z)({separator:(0,y.jsx)(q,{})},m),{},{children:t.map((function(e){return(0,y.jsx)(H,{link:e,activeLast:u},e.name||"")}))}))]}),r&&(0,y.jsxs)(o.Z,{sx:{flexShrink:0},children:[" ",r," "]})]}),!!d&&(0,y.jsx)(o.Z,{sx:{mt:2},children:d.map((function(e){return(0,y.jsx)(s.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function q(){return(0,y.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},32869:function(e,t,r){r.d(t,{Ds:function(){return n.Ds}});var n=r(58518);r(58764)},35471:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var n=r(6907),a=r(74165),o=r(15861),s=r(29439),l=r(72791),i=r(12065),c=r(64554),d=r(89164),u=r(4567),p=r(57088),m=r(61889),h=r(48550),x=r(18406),f=r(99615),g=r(52073),Z=(r(32869),r(43513)),v=r(97892),b=r.n(v),j=r(57689),y=r(61214),k=r(38072),P=r(80184),w=localStorage.getItem(g._.keyUserToken),S=(0,x.sw)(w),C={headers:{Authorization:"Bearer ".concat(S)}};function I(){var e=(0,l.useState)(!1),t=(0,s.Z)(e,2),r=t[0],n=t[1],g=(0,l.useState)([]),v=(0,s.Z)(g,2),w=v[0],S=v[1],I=(0,p.K$)(),M=(0,j.TH)(),B=null===M||void 0===M?void 0:M.state;console.log("\ud83d\ude80 ~ EmployeeDetailsView ~ employeeData:",B),B.dateOfBirth=b()(B.dateOfBirth);var D=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.ZP.post(f.Hv.employee.getSalesHistory,{employeeId:B._id},C);case 3:t=e.sent,console.log("\ud83d\ude80 ~ fetchSalesData ~ response:",t),t&&(n(!1),S(t.data.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){D()}),[]);var R=[{name:"Customer Name",selector:function(e){return e.customerId.name}},{name:"Product Name",selector:function(e){return e.products.length>1?"".concat(e.products[0].name,", & ").concat(e.products.length-1," more"):e.products[0].name}},{name:"Sales Amount",selector:function(e){return x.MG.format(e.totalAmount)}},{name:"Invoice Date",selector:function(e){return b()(e.createdAt).format("DD/MM/YYYY")}},{name:"Payment Mode",selector:function(e){return e.payments[e.payments.length-1].paymentID.paymentMode}}];return(0,P.jsxs)(d.Z,{maxWidth:!I.themeStretch&&"xl",children:[(0,P.jsx)(y.Z,{heading:"Employee Details",links:[{name:"Employee Master",href:k.H.dashboard.employee.list},{name:"".concat(B.name)}],sx:{mb:{xs:3,md:5}}}),(0,P.jsx)(c.Z,{sx:{mt:2,width:1,p:2,borderRadius:2,bgcolor:function(e){return(0,i.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:(0,P.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(m.ZP,{item:!0,xs:12,children:(0,P.jsx)(u.Z,{variant:"h6",children:"Basic Details"})}),(0,P.jsx)(m.ZP,{item:!0,xs:4,children:(0,P.jsx)(h.Z,{label:"Name",value:B.name,fullWidth:!0,disabled:!0})}),(0,P.jsx)(m.ZP,{item:!0,xs:4,children:(0,P.jsx)(h.Z,{label:"Employee Code",value:B.code,fullWidth:!0,disabled:!0})}),(0,P.jsx)(m.ZP,{item:!0,xs:4,children:(0,P.jsx)(h.Z,{label:"Mobile Number",value:B.mobileNumber,fullWidth:!0,disabled:!0})}),(0,P.jsx)(m.ZP,{item:!0,xs:4,children:(0,P.jsx)(h.Z,{label:"Date of Birth",defaultValue:b()(B.dateOfBirth).format("DD/MM/YYYY"),disabled:!0,fullWidth:!0})}),(0,P.jsx)(m.ZP,{item:!0,xs:8,children:(0,P.jsx)(h.Z,{label:"Address",multiline:!0,rows:2,value:function(e){console.log("Generating address",e);var t=[];return e.line1&&t.push(e.line1),e.line2&&t.push(e.line2),e.city&&t.push(e.city),e.state&&t.push(e.state),e.pincode&&t.push(e.pincode),t.join(", ")}(B.address),fullWidth:!0,disabled:!0})})]})}),(0,P.jsx)(c.Z,{sx:{mt:2,width:1,p:2,borderRadius:2,bgcolor:function(e){return(0,i.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:(0,P.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(m.ZP,{item:!0,xs:12,children:(0,P.jsx)(u.Z,{variant:"h6",children:"Sales History"})}),(0,P.jsx)(m.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.ZP,{progressPending:r,columns:R,data:w,pagination:!0})})]})})]})}function M(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(n.ql,{children:(0,P.jsx)("title",{children:" Employee : Details"})}),(0,P.jsx)(I,{})]})}}}]);
//# sourceMappingURL=471.05a27867.chunk.js.map