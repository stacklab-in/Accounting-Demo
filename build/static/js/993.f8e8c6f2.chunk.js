"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[993],{32869:function(e,t,n){n.d(t,{Ds:function(){return r.Ds}});var r=n(58518);n(58764)},37993:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(74165),a=n(15861),o=n(29439),i=n(89164),u=n(4567),l=n(36314),c=n(85771),s=n(30439),d=n(71715),f=n(82626),p=n(93006),m=n(63466),h=n(6907),x=n(57088),v=n(18406),y=n(26759),g=n(72791),Z=n(52073),j=n(99615),b=n(32869),S=n(43513),C=n(5403),M=n(71652),T=n(97892),k=n.n(T),w=n(98265),D=n(24750),N=n(80184);function E(){var e=(0,x.K$)(),t=(0,g.useState)(!1),n=(0,o.Z)(t,2),T=n[0],E=n[1],A=(0,g.useState)([]),G=(0,o.Z)(A,2),P=G[0],_=G[1],I=(0,g.useState)([]),Y=(0,o.Z)(I,2),L=(Y[0],Y[1]),B=(0,g.useState)(""),O=(0,o.Z)(B,2),z=O[0],R=O[1],U=(0,g.useState)(k()(new Date)),q=(0,o.Z)(U,2),V=q[0],$=q[1],F=(0,b.Ds)().enqueueSnackbar,H=(0,g.useState)(null),K=(0,o.Z)(H,2),W=K[0],X=K[1],J=Boolean(W),Q=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem(Z._.keyUserToken),n=(0,v.sw)(t),e.next=5,j.ZP.post(j.Hv.reports.dayBook,{date:k()(V).format("YYYY-MM-DD")},{headers:{Authorization:"Bearer ".concat(n)}});case 5:(a=e.sent)&&(E(!1),_(a.data.data),L(a.data.data)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),F(e.t0.error||"Something went wrong!.",{variant:"error"}),E(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,g.useEffect)((function(){E(!0),Q()}),[V]);var ee=[{name:"Item Name",selector:function(e){return"CUSTOMER"===e.partyType||"VENDOR"===e.partyType?e.userName||"N/A":e.category||"N/A"},sortable:!0},{name:"Transaction Type",selector:function(e){return e.partyType},sortable:"true"},{name:"Invoice Number",selector:function(e){return e.invoiceNumber},sortable:"true"},{name:"Amount",selector:function(e){return v.MG.format(e.amount)},sortable:"true"},{name:"Time",selector:function(e){return new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})||"N/A"},sortable:"true"}],te=P.filter((function(e){return(null===e||void 0===e?void 0:e.userName)&&e.userName.toLowerCase().includes(null===z||void 0===z?void 0:z.toLowerCase())||(null===e||void 0===e?void 0:e.category)&&e.category.toLowerCase().includes(null===z||void 0===z?void 0:z.toLowerCase())}));return(0,N.jsxs)(i.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,N.jsx)(h.ql,{children:(0,N.jsx)("title",{children:" Reports: Day Book"})}),(0,N.jsx)(u.Z,{variant:"h4",children:" Day Book "}),(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"20px"},children:[(0,N.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,N.jsx)(c.Z,{label:"Sales : ".concat(P.length>0?v.MG.format(P.filter((function(e){return"CUSTOMER"===e.partyType})).reduce((function(e,t){return e+t.amount}),0)):v.MG.format(0)),variant:"outlined"}),(0,N.jsx)(c.Z,{label:"Purchase : ".concat(P.length>0?v.MG.format(P.filter((function(e){return"VENDOR"===e.partyType})).reduce((function(e,t){return e+t.amount}),0)):v.MG.format(0)),variant:"outlined"}),(0,N.jsx)(c.Z,{label:"Expense : ".concat(P.length>0?v.MG.format(P.filter((function(e){return"EXPENSE"===e.partyType})).reduce((function(e,t){return e+t.amount}),0)):v.MG.format(0)),variant:"outlined"}),(0,N.jsx)(c.Z,{label:"Income : ".concat(P.length>0?v.MG.format(P.filter((function(e){return"INCOME"===e.partyType})).reduce((function(e,t){return e+t.amount}),0)):v.MG.format(0)),variant:"outlined"})]}),(0,N.jsxs)(l.Z,{children:[(0,N.jsx)(s.Z,{style:{color:v.$_.actionButton},endIcon:(0,N.jsx)(y.Z,{}),variant:"outlined",onClick:function(e){return X(e.currentTarget)},children:"ACTIONS"}),(0,N.jsxs)(d.Z,{id:"basic-menu",anchorEl:W,open:J,onClose:function(){X(null),L({})},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,N.jsx)(f.Z,{onClick:function(){},children:"Print"}),(0,N.jsx)(f.Z,{onClick:function(){},children:"Download"})]})]})]}),(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",marginTop:"20px"},children:[(0,N.jsx)(p.Z,{placeholder:"Search",size:"small",value:z,onChange:function(e){return R(e.target.value)},InputProps:{startAdornment:(0,N.jsx)(m.Z,{position:"start",children:(0,N.jsx)(C.Z,{})})}}),(0,N.jsx)(M._,{dateAdapter:D.y,children:(0,N.jsx)(w.M,{value:V,onChange:function(e){$(e)},format:"DD/MM/YYYY",size:"small",slotProps:{textField:{size:"small"}}})})]}),(0,N.jsx)("div",{style:{marginTop:"20px"},children:(0,N.jsx)(S.ZP,{columns:ee,data:te,progressPending:T,pagination:!0})})]})}},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184);t.Z=(0,a.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=993.f8e8c6f2.chunk.js.map