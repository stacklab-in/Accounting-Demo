"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[962],{32869:function(e,n,t){t.d(n,{Ds:function(){return r.Ds}});var r=t(58518);t(58764)},94962:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(6907),a=t(74165),o=t(15861),i=t(29439),s=t(72791),l=t(89164),c=t(4567),u=t(57088),d=t(43513),p=t(30439),m=t(71715),h=t(82626),f=t(93006),v=t(63466),x=t(5403),y=t(26759),b=t(99615),g=t(52073),Z=t(32869),j=t(18406),C=t(24750),k=t(51612),S=t(97892),w=t.n(S),P=t(71652),D=t(80184);function N(){var e=(0,u.K$)(),n=(0,Z.Ds)().enqueueSnackbar,t=(0,s.useState)(""),r=(0,i.Z)(t,2),S=r[0],N=r[1],A=(0,s.useState)(!1),T=(0,i.Z)(A,2),_=T[0],I=T[1],L=(0,s.useState)((function(){return[w()("2022-04-17"),w()("2022-04-21")]})),E=(0,i.Z)(L,2),R=E[0],B=E[1],F=(0,s.useState)([]),M=(0,i.Z)(F,2),z=M[0],q=M[1],O=(0,s.useState)(null),U=(0,i.Z)(O,2),V=U[0],W=U[1],$=Boolean(V),G=(0,s.useState)({}),H=(0,i.Z)(G,2),K=(H[0],H[1]),J=(0,s.useState)(!1),Q=(0,i.Z)(J,2),X=(Q[0],Q[1],function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem(g._.keyUserToken),r=(0,j.sw)(t),e.next=5,b.ZP.post(b.Hv.receipt.list,{},{headers:{Authorization:"Bearer ".concat(r)}});case 5:(o=e.sent)&&(I(!1),console.log(o.data.data),q(o.data.data)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n("Failed to fetch records!",{variant:"error"}),I(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}());(0,s.useEffect)((function(){I(!0),X()}),[]);var Y=[{name:"Customer Name",selector:function(e){return"CUSTOMER"===e.partyType||"VENDOR"===e.partyType?e.userName||"N/A":e.category||"N/A"},sortable:!0},{name:"Invoice Number",selector:function(e){return e.invoiceNumber},sortable:!0},{name:"Amount Paid",selector:function(e){return e.amount.toFixed(2)},sortable:!0},{name:"Payment Mode",selector:function(e){return e.paymentId.paymentMode},sortable:!0},{name:"Payment Status",selector:function(e){return e.paymentId.paymentStatus},sortable:!0},{name:"Party Type",selector:function(e){return e.partyType},sortable:!0},{name:"Payment Date",selector:function(e){return new Date(e.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})},sortable:!0},{name:"Actions",width:"130px",cell:function(e){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p.Z,{onClick:function(n){W(n.currentTarget),K(e)},style:{color:j.$_.actionButton},variant:"outlined",endIcon:(0,D.jsx)(y.Z,{}),children:"Action"}),(0,D.jsxs)(m.Z,{id:"basic-menu",anchorEl:V,open:$,onClose:function(){W(null),K({})},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,D.jsx)(h.Z,{onClick:function(){},children:"View"}),(0,D.jsx)(h.Z,{onClick:function(){},children:"Print"}),(0,D.jsx)(h.Z,{onClick:function(){},children:"Share via Whatsapp"}),(0,D.jsx)(h.Z,{onClick:function(){},children:"Share via Email"}),(0,D.jsx)(h.Z,{onClick:function(){},children:"Delete"})]})]})}}],ee=z.filter((function(e){var n,t,r,a=null===e||void 0===e||null===(n=e.invoiceNumber)||void 0===n?void 0:n.toLowerCase().includes(null===S||void 0===S?void 0:S.toLowerCase()),o=null===e||void 0===e||null===(t=e.userName)||void 0===t?void 0:t.toLowerCase().includes(null===S||void 0===S?void 0:S.toLowerCase()),i=null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.toLowerCase().includes(null===S||void 0===S?void 0:S.toLowerCase());return a||o||i}));return(0,D.jsxs)(l.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,D.jsx)(c.Z,{variant:"h4",children:" Receipts "}),(0,D.jsxs)("div",{style:{display:"flex",justifyContent:"start",alignItems:"center",marginTop:"20px",gap:"10px"},children:[(0,D.jsx)(f.Z,{size:"small",onChange:function(e){return N(e.target.value)},type:"text",placeholder:"Search by Inv/Name",InputProps:{startAdornment:(0,D.jsx)(v.Z,{position:"start",children:(0,D.jsx)(x.Z,{})})}}),(0,D.jsx)(P._,{dateAdapter:C.y,children:(0,D.jsx)(k.n,{size:"small",label:"Date Range",value:R,onChange:function(e){return B(e)}})})]}),(0,D.jsx)("div",{style:{marginTop:"20px"},children:(0,D.jsx)(d.ZP,{columns:Y,data:ee,pagination:!0,progressPending:_})})]})}function A(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(r.ql,{children:(0,D.jsx)("title",{children:" Dashboard: Receipts"})}),(0,D.jsx)(N,{})]})}}}]);
//# sourceMappingURL=962.a9fcc2b7.chunk.js.map