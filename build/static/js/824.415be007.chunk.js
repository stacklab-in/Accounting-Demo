"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[824],{32869:function(e,n,t){t.d(n,{Ds:function(){return r.Ds}});var r=t(58518);t(58764)},25824:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(6907),a=t(4942),o=t(1413),i=t(74165),c=t(15861),l=t(29439),s=t(12065),u=t(64554),d=t(89164),p=t(4567),x=t(57088),h=t(72791),v=t(30439),f=t(25228),Z=t(61474),g=t(61889),j=t(48550),m=t(63466),b=t(73590),y=t(5403),k=t(43513),P=t(52073),w=t(18406),C=t(99615),S=t(88014),B=t(32869),V=t(8976),I=t(84763),_=t.n(I),A=t(61146),R=(t(96107),t(80184)),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:3},U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:3};function N(){var e,n,t,r,I,N,z,D=(0,x.K$)(),T=(0,h.useRef)(),W=(0,V.E)().user,q=(0,A.useReactToPrint)({content:function(){return T.current}}),E=(0,B.Ds)().enqueueSnackbar,H=(0,h.useState)("one"),O=(0,l.Z)(H,2),G=O[0],$=O[1],K=(0,h.useState)(""),L=(0,l.Z)(K,2),J=L[0],M=L[1],Q=(0,h.useState)(!1),X=(0,l.Z)(Q,2),Y=X[0],ee=X[1],ne=(0,h.useState)(!1),te=(0,l.Z)(ne,2),re=(te[0],te[1]),ae=(0,h.useState)(!1),oe=(0,l.Z)(ae,2),ie=oe[0],ce=oe[1],le=(0,h.useState)([]),se=(0,l.Z)(le,2),ue=se[0],de=se[1],pe=(0,h.useState)({_id:"",percentageValue:"",value:""}),xe=(0,l.Z)(pe,2),he=xe[0],ve=xe[1],fe=(0,h.useState)(!1),Ze=(0,l.Z)(fe,2),ge=Ze[0],je=Ze[1],me=(0,h.useState)({}),be=(0,l.Z)(me,2),ye=be[0],ke=be[1],Pe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n,t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(P._.keyUserToken),t=(0,w.sw)(n),e.next=5,C.ZP.post(C.Hv.productBarcodeValues.details,{},{headers:{Authorization:"Bearer ".concat(t)}});case 5:(r=e.sent)&&(console.log(r),re(!1),r.data.data&&Object.keys(r.data.data).length>0&&ve(r.data.data)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),E("Failed to fetch Barcode Values!",{variant:"error"}),re(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),we=function(e,n){ve((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,a.Z)({},e,n))}))},Ce=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n,t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem(P._.keyUserToken),t=(0,w.sw)(n),e.next=5,C.ZP.post(C.Hv.productBarcodeValues.list,{},{headers:{Authorization:"Bearer ".concat(t)}});case 5:(r=e.sent)&&(ce(!1),de(r.data.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),E("Failed to fetch products!",{variant:"error"}),ce(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Se=(0,h.useState)(null),Be=(0,l.Z)(Se,2),Ve=Be[0],Ie=(Be[1],Boolean(Ve),(0,h.useState)({})),_e=(0,l.Z)(Ie,2);_e[0],_e[1];(0,h.useEffect)((function(){re(!0),Pe(),ce(!0),Ce()}),[]);var Ae=function(){return ee(!1)},Re=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem(P._.keyUserToken),t=(0,w.sw)(n),C.ZP.post(C.Hv.productBarcodeValues.add,he,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){E("Barcode Values created successfully!",{variant:"success"}),ve(e.data.data),Ae()})).catch((function(e){E(e.error||e.msg,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem(P._.keyUserToken),t=(0,w.sw)(n),C.ZP.post(C.Hv.productBarcodeValues.update,he,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){E("Barcode Values updated successfully!",{variant:"success"}),Ae()})).catch((function(e){E(e.error||e.msg,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=[{name:"Product Name",selector:function(e){var n;return null===e||void 0===e||null===(n=e.productId)||void 0===n?void 0:n.name},sortable:!0},{name:"Product Barcode",selector:function(e){return e.barcode},sortable:!0},{name:"Last Updated",selector:function(e){return null!==e&&void 0!==e&&e.updatedAt?(0,w.p6)(e.updatedAt):"N/A"},sortable:!0,width:"250px"},{name:"Actions",center:"true",cell:function(e){return(0,R.jsx)(v.Z,{style:{color:w.$_.actionButton},onClick:function(){ke(e),je(!0)},variant:"outlined",endIcon:(0,R.jsx)(S.Z,{}),children:"Preview & Print"})}}],Ne=ue.filter((function(e){var n;return null===e||void 0===e||null===(n=e.barcode)||void 0===n?void 0:n.toString().includes(J)})),ze=(0,R.jsx)(u.Z,{component:"img",src:"/logo/logo_single.svg",sx:{width:40,height:40}});return(0,R.jsxs)(d.Z,{maxWidth:!D.themeStretch&&"xl",children:[(0,R.jsx)(p.Z,{variant:"h4",children:" Product Barcode "}),(0,R.jsxs)(f.Z,{sx:{mt:2},value:G,onChange:function(e,n){$(n)},textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",children:[(0,R.jsx)(Z.Z,{value:"one",label:"Barcode"}),(0,R.jsx)(Z.Z,{value:"two",label:"Barcode Values"})]}),"one"===G&&(0,R.jsx)(u.Z,{sx:{mt:2,width:1,p:2,borderRadius:2,bgcolor:function(e){return(0,s.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:(0,R.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,R.jsx)(g.ZP,{item:!0,xs:12,children:(0,R.jsx)(j.Z,{size:"small",onChange:function(e){return M(e.target.value)},type:"text",placeholder:"Search Barcode",InputProps:{endAdornment:(0,R.jsx)(m.Z,{position:"end",children:(0,R.jsx)(y.Z,{})})}})}),(0,R.jsx)(g.ZP,{item:!0,xs:12,children:(0,R.jsx)(k.ZP,{style:{borderRadius:"20px"},title:"Barcodes",data:Ne,columns:Ue,progressPending:ie,pagination:!0})})]})}),"two"===G&&(0,R.jsx)(u.Z,{sx:{mt:2,width:1,p:2,borderRadius:2,bgcolor:function(e){return(0,s.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat(e.palette.divider)}},children:(0,R.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,R.jsx)(g.ZP,{item:!0,xs:6,children:(0,R.jsx)(j.Z,{fullWidth:!0,label:"Percentage Value",name:"percentageValue",value:he.percentageValue,InputProps:{endAdornment:(0,R.jsx)(m.Z,{position:"end",children:"%"})},disabled:!0})}),(0,R.jsx)(g.ZP,{item:!0,xs:6,children:(0,R.jsx)(j.Z,{fullWidth:!0,label:"Value",name:"value",value:he.value,disabled:!0})}),(null===W||void 0===W||null===(e=W.permissions)||void 0===e||null===(n=e.product)||void 0===n?void 0:n.u)&&(0,R.jsx)(g.ZP,{item:!0,xs:12,children:(0,R.jsx)(v.Z,{variant:"contained",onClick:function(){return ee(!0)},children:"CONFIGURE"})})]})}),(0,R.jsx)(b.Z,{open:Y,children:(0,R.jsx)(u.Z,{sx:F,children:(0,R.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,R.jsx)(g.ZP,{item:!0,xs:6,children:(0,R.jsx)(j.Z,{fullWidth:!0,type:"number",label:"Percentage Value",name:"percentageValue",value:he.percentageValue,InputProps:{endAdornment:(0,R.jsx)(m.Z,{position:"end",children:"%"})},onChange:function(e){return we("percentageValue",e.target.value)}})}),(0,R.jsx)(g.ZP,{item:!0,xs:6,children:(0,R.jsx)(j.Z,{fullWidth:!0,type:"number",label:"Value",name:"value",value:he.value,onChange:function(e){return we("value",e.target.value)}})}),(0,R.jsxs)(g.ZP,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",gap:"10px",children:[(0,R.jsx)(v.Z,{variant:"contained",onClick:function(){he._id.length>0?Fe():Re()},disabled:!he.percentageValue||!he.value,children:"CONFIGURE"}),(0,R.jsx)(v.Z,{variant:"contained",color:"error",onClick:Ae,children:"Cancel"})]})]})})}),(0,R.jsx)(b.Z,{open:ge,onClose:Ae,children:(0,R.jsxs)(u.Z,{sx:U,children:[(0,R.jsxs)("div",{id:"barcode-content",ref:T,style:{display:"flex",flexDirection:"column",gap:"10px",padding:"20px",justifyContent:"center",alignItems:"center"},children:[ze,(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"20px"},children:[(0,R.jsx)(p.Z,{variant:"body1",children:null!==ye&&void 0!==ye&&null!==(t=ye.productId)&&void 0!==t&&t.name?null===ye||void 0===ye||null===(r=ye.productId)||void 0===r?void 0:r.name:"N/A"}),(0,R.jsx)(p.Z,{variant:"body1",children:null!==ye&&void 0!==ye&&null!==(I=ye.vendorId)&&void 0!==I&&I.initials?null===ye||void 0===ye||null===(N=ye.vendorId)||void 0===N?void 0:N.initials:"N/A"})]}),(0,R.jsx)(_(),{value:null===ye||void 0===ye?void 0:ye.barcode}),(0,R.jsx)(p.Z,{variant:"h6",children:null===ye||void 0===ye||null===(z=ye.productId)||void 0===z?void 0:z.code})]}),(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[(0,R.jsx)(v.Z,{variant:"contained",color:"primary",onClick:function(){q()},children:"Print"}),(0,R.jsx)(v.Z,{variant:"contained",color:"error",onClick:function(){ke({}),je(!1)},children:"Close"})]})]})})]})}function z(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(r.ql,{children:(0,R.jsx)("title",{children:" Dashboard : Barcodes"})}),(0,R.jsx)(N,{})]})}}}]);
//# sourceMappingURL=824.415be007.chunk.js.map