{"version":3,"file":"static/js/993.27e8308b.chunk.js","mappings":"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","sources":["sections/reports-management/dayBook.js"],"sourcesContent":["import { Button, Chip, Container, InputAdornment, MenuItem, Stack, TextField, Typography, Menu, FormControl, InputLabel, Select } from '@mui/material';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useSettingsContext } from 'src/components/settings';\r\nimport { color, decryptToken, formatDate, formatObj } from 'src/utils/common';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport { useState, useEffect } from 'react';\r\nimport { constants } from 'src/utils/constant';\r\nimport axios, { endpoints } from 'src/utils/axios';\r\nimport { useSnackbar } from 'src/components/snackbar';\r\nimport DataTable from 'react-data-table-component';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport dayjs from 'dayjs';\r\nimport { DatePicker } from '@mui/x-date-pickers';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport * as XLSX from 'xlsx';\r\nimport JsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport { saveAs } from 'file-saver';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function DayBook() {\r\n    const settings = useSettingsContext();\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [list, setList] = useState([]);\r\n    const [tempData, setTempData] = useState([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [date, setDate] = useState(dayjs(new Date()))\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [transactionType, setTransactionType] = useState('all')\r\n    // For Actions Dropdown\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const openMenu = Boolean(anchorEl);\r\n\r\n    const fetchData = async () => {\r\n\r\n        try {\r\n            const decryptedToken = localStorage.getItem(constants.keyUserToken);\r\n            const accessToken = decryptToken(decryptedToken);\r\n            const response = await axios.post(endpoints.reports.dayBook, { date: dayjs(date).format('YYYY-MM-DD') }, {\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            });\r\n            if (response) {\r\n                setIsLoading(false);\r\n                setList(response.data.data);\r\n                setTempData(response.data.data);\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n            enqueueSnackbar(err.error || 'Something went wrong!.', { variant: 'error' });\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        fetchData();\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [date]);\r\n\r\n    const columns = [\r\n        {\r\n            name: 'Item Name',\r\n            selector: (row) => {\r\n                if (row.partyType === 'CUSTOMER' || row.partyType === 'VENDOR') {\r\n                    return row.userName || 'N/A';\r\n                }\r\n                return row.category || 'N/A';\r\n            },\r\n            sortable: true,\r\n        },\r\n        {\r\n            name: 'Transaction Type',\r\n            selector: row => row.type === 'purchaseReturn' ? 'PURCHASE RETURN' : row.type.toUpperCase(),\r\n            sortable: 'true',\r\n        },\r\n        {\r\n            name: 'Invoice Number',\r\n            selector: row => row.invoiceNumber,\r\n            sortable: 'true',\r\n        },\r\n        {\r\n            name: 'Amount',\r\n            selector: row => formatObj.format(row.amount),\r\n            sortable: 'true',\r\n        },\r\n        {\r\n            name: 'Time',\r\n            selector: row => {\r\n                const timeString = new Date(row.createdAt).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });\r\n                return timeString || 'N/A';\r\n            },\r\n            sortable: 'true',\r\n        },\r\n    ];\r\n\r\n    const handleDownloadPDF = () => {\r\n        setAnchorEl(null);\r\n        const doc = new JsPDF();\r\n        doc.text('Day Book Report', 10, 10);\r\n\r\n        // Get table data\r\n        // Transform data and create tableData array\r\n        const tableData = list.map(item => [\r\n            (item.partyType === 'CUSTOMER' || item.partyType === 'VENDOR') ? item.userName || 'N/A' : item.category || 'N/A',\r\n            item.type === 'purchaseReturn' ? 'PURCHASE RETURN' : item.type.toUpperCase(),\r\n            item.invoiceNumber || 'N/A',\r\n            (item.amount !== undefined && item.amount !== null) ? item.amount : 'N/A',\r\n            (item.createdAt) ? new Date(item.createdAt).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true }) : 'N/A'\r\n        ]);\r\n\r\n        // Set column headers\r\n        const headers = ['Item Name', 'Transaction Type', 'Invoice Number', 'Amount', 'Time'];\r\n\r\n        // Add table to PDF\r\n        doc.autoTable({\r\n            head: [headers],\r\n            body: tableData,\r\n        });\r\n\r\n        doc.save('day_book_report.pdf');\r\n    };\r\n\r\n\r\n    const handleDownloadExcel = () => {\r\n        setAnchorEl(null);\r\n\r\n        // Convert data to a format suitable for Excel\r\n        const excelData = list.map(item => ({\r\n            'Item Name': (item.partyType === 'CUSTOMER' || item.partyType === 'VENDOR') ? item.userName || 'N/A' : item.category || 'N/A',\r\n            'Transaction Type': item.type === 'purchaseReturn' ? 'PURCHASE RETURN' : item.type.toUpperCase(),\r\n            'Invoice Number': item.invoiceNumber || 'N/A',\r\n            'Amount': (item.amount !== undefined && item.amount !== null) ? item.amount : 'N/A',\r\n            'Time': (item.createdAt) ? formatDate(item.createdAt) : 'N/A'\r\n        }));\r\n\r\n        // Create a new workbook\r\n        const workbook = XLSX.utils.book_new();\r\n        // Convert the data to a worksheet\r\n        const worksheet = XLSX.utils.json_to_sheet(excelData);\r\n        // Add the worksheet to the workbook\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, 'Day Book Report');\r\n\r\n        // Convert the workbook to a binary Excel file\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n        // Create a Blob from the buffer\r\n        const data = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8' });\r\n        // Save the Blob as a file using file-saver\r\n        saveAs(data, 'day_book_report.xlsx');\r\n    };\r\n\r\n    const filteredItems = list.filter((data) =>\r\n        (data?.userName && data.userName.toLowerCase().includes(searchQuery?.toLowerCase())) ||\r\n        (data?.category && data.category.toLowerCase().includes(searchQuery?.toLowerCase()))\r\n    );\r\n\r\n    return (\r\n        <Container maxWidth={settings.themeStretch ? false : 'xl'}>\r\n            <Helmet>\r\n                <title> Reports: Day Book</title>\r\n            </Helmet>\r\n\r\n            <Typography variant=\"h4\"> Day Book </Typography>\r\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: \"space-between\", marginTop: \"20px\" }}>\r\n                <Stack direction=\"row\" spacing={1}>\r\n                    <Chip\r\n                        label={`Sales : ${list.length > 0 ? formatObj.format(list.filter((data) => data.partyType === 'CUSTOMER').reduce((accumulator, currentValue) => accumulator + currentValue.amount, 0)) : formatObj.format(0)}`}\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Chip\r\n                        label={`Purchase : ${list.length > 0 ? formatObj.format(list.filter((data) => data.partyType === 'VENDOR').reduce((accumulator, currentValue) => accumulator + currentValue.amount, 0)) : formatObj.format(0)}`}\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Chip\r\n                        label={`Expense : ${list.length > 0 ? formatObj.format(list.filter((data) => data.partyType === 'EXPENSE').reduce((accumulator, currentValue) => accumulator + currentValue.amount, 0)) : formatObj.format(0)}`}\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Chip\r\n                        label={`Income : ${list.length > 0 ? formatObj.format(list.filter((data) => data.partyType === 'INCOME').reduce((accumulator, currentValue) => accumulator + currentValue.amount, 0)) : formatObj.format(0)}`}\r\n                        variant=\"outlined\"\r\n                    />\r\n                </Stack>\r\n\r\n                <Stack>\r\n                    <Button style={{ color: color.actionButton }} endIcon={<ArrowDropDownIcon />} variant='outlined' onClick={(e) => setAnchorEl(e.currentTarget)}>\r\n                        ACTIONS\r\n                    </Button>\r\n                    <Menu\r\n                        id=\"basic-menu\"\r\n                        anchorEl={anchorEl}\r\n                        open={openMenu}\r\n                        onClose={() => {\r\n                            setAnchorEl(null);\r\n                            setTempData({});\r\n                        }}\r\n                        MenuListProps={{\r\n                            'aria-labelledby': 'basic-button',\r\n                        }}\r\n                    >\r\n\r\n                        <MenuItem onClick={() => {\r\n                            window.print();\r\n                        }}>Print</MenuItem>\r\n\r\n                        <MenuItem onClick={handleDownloadPDF}>Download as PDF</MenuItem>\r\n                        <MenuItem onClick={handleDownloadExcel}>Download as Excel</MenuItem>\r\n\r\n                    </Menu>\r\n                </Stack>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'flex-start', gap: '10px', marginTop: '20px' }}>\r\n                <TextField\r\n                    placeholder='Search'\r\n                    size='small'\r\n                    value={searchQuery}\r\n                    onChange={e => setSearchQuery(e.target.value)}\r\n                    InputProps={{\r\n                        startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                                <SearchIcon />\r\n                            </InputAdornment>\r\n                        ),\r\n                    }}\r\n                />\r\n                <LocalizationProvider dateAdapter={AdapterDayjs} >\r\n                    <DatePicker\r\n                        value={date}\r\n                        onChange={(newValue) => {\r\n                            setDate(newValue)\r\n                        }}\r\n                        format=\"DD/MM/YYYY\"\r\n                        size=\"small\"\r\n                        slotProps={{ textField: { size: 'small' } }}\r\n                    />\r\n                </LocalizationProvider>\r\n                <FormControl fullWidth size='small' sx={{ width: '300px' }}>\r\n                    <InputLabel id=\"demo-simple-select-label\">Transaction Type</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={transactionType}\r\n                        label=\"Transaction Type\"\r\n                        onChange={(e) => {\r\n                            setTransactionType(e.target.value)\r\n                            if (e.target.value === 'sales') {\r\n                                setList(tempData.filter((data) => data.partyType === 'CUSTOMER'))\r\n                            } else if (e.target.value === 'purchase') {\r\n                                setList(tempData.filter((data) => (data.partyType === 'VENDOR' && data.paymentType === 'PAID')))\r\n                            } else if (e.target.value === 'purchaseReturn') {\r\n                                setList(tempData.filter((data) => (data.partyType === 'VENDOR' && data.paymentType === 'RECEIVED')))\r\n                            } else if (e.target.value === 'expense') {\r\n                                setList(tempData.filter((data) => data.partyType === 'EXPENSE'))\r\n                            } else if (e.target.value === 'income') {\r\n                                setList(tempData.filter((data) => data.partyType === 'INCOME'))\r\n                            } else {\r\n                                setList(tempData);\r\n                            }\r\n                        }}\r\n                    >\r\n                        <MenuItem value='all'>ALL</MenuItem>\r\n                        <MenuItem value='sales'>SALES</MenuItem>\r\n                        <MenuItem value='purchase'>PURCHASE</MenuItem>\r\n                        <MenuItem value='purchaseReturn'>PURCHASE RETURN</MenuItem>\r\n                        <MenuItem value='expense'>EXPENSE</MenuItem>\r\n                        <MenuItem value='income'>INCOME</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n\r\n            <div style={{ marginTop: '20px' }}>\r\n                <DataTable\r\n                    columns={columns}\r\n                    data={filteredItems}\r\n                    progressPending={isLoading}\r\n                    pagination\r\n                    id=\"daybook-table\"\r\n                />\r\n\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n"],"names":["DayBook","settings","useSettingsContext","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","list","setList","_useState5","_useState6","tempData","setTempData","_useState7","_useState8","searchQuery","setSearchQuery","_useState9","dayjs","Date","_useState10","date","setDate","enqueueSnackbar","useSnackbar","_useState11","_useState12","transactionType","setTransactionType","_useState13","_useState14","anchorEl","setAnchorEl","openMenu","Boolean","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","decryptedToken","accessToken","response","wrap","_context","prev","next","localStorage","getItem","constants","decryptToken","axios","endpoints","format","headers","Authorization","concat","sent","data","t0","console","log","error","variant","stop","apply","arguments","useEffect","columns","name","selector","row","partyType","userName","category","sortable","type","toUpperCase","invoiceNumber","formatObj","amount","createdAt","toLocaleTimeString","hour","minute","hour12","filteredItems","filter","toLowerCase","includes","_jsxs","Container","maxWidth","themeStretch","children","_jsx","Helmet","Typography","style","display","flexDirection","justifyContent","marginTop","Stack","direction","spacing","Chip","label","length","reduce","accumulator","currentValue","Button","color","endIcon","ArrowDropDownIcon","onClick","e","currentTarget","Menu","id","open","onClose","MenuListProps","MenuItem","window","print","doc","JsPDF","text","tableData","map","item","undefined","autoTable","head","body","save","excelData","formatDate","workbook","XLSX","worksheet","excelBuffer","bookType","Blob","saveAs","gap","TextField","placeholder","size","value","onChange","target","InputProps","startAdornment","InputAdornment","position","SearchIcon","LocalizationProvider","dateAdapter","AdapterDayjs","DatePicker","newValue","slotProps","textField","FormControl","fullWidth","sx","width","InputLabel","Select","labelId","paymentType","DataTable","progressPending","pagination"],"sourceRoot":""}