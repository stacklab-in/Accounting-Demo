"use strict";(self.webpackChunk_accounting_billing_stacklab=self.webpackChunk_accounting_billing_stacklab||[]).push([[178],{32869:function(e,t,n){n.d(t,{Ds:function(){return r.Ds}});var r=n(58518);n(58764)},21178:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(74165),a=n(15861),o=n(29439),i=n(89164),s=n(4567),l=n(36314),c=n(85771),u=n(30439),d=n(71715),f=n(82626),m=n(93006),h=n(63466),p=n(6907),v=n(57088),x=n(18406),Z=n(26759),b=n(72791),j=n(52073),g=n(99615),y=n(32869),S=n(43513),k=n(5403),C=n(80184);function w(){var e=(0,v.K$)(),t=(0,b.useState)(!1),n=(0,o.Z)(t,2),w=n[0],D=n[1],I=(0,b.useState)([]),A=(0,o.Z)(I,2),_=A[0],P=A[1],T=(0,b.useState)([]),M=(0,o.Z)(T,2),L=(M[0],M[1]),B=(0,b.useState)(""),N=(0,o.Z)(B,2),z=N[0],G=N[1],R=(0,y.Ds)().enqueueSnackbar,q=(0,b.useState)(null),E=(0,o.Z)(q,2),F=E[0],$=E[1],H=Boolean(F),K=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem(j._.keyUserToken),n=(0,x.sw)(t),e.next=5,g.ZP.post(g.Hv.sales.list,{},{headers:{Authorization:"Bearer ".concat(n)}});case 5:(a=e.sent)&&(D(!1),P(a.data.data),L(a.data.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),R("Failed to fetch sales orders!",{variant:"error"}),D(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){D(!0),K()}),[]);var O=[{name:"Customer Name",selector:function(e){return e.customerId.name},sortable:"true"},{name:"Invoice Number",selector:function(e){return e.invoiceNumber}},{name:"Amount",selector:function(e){return e.totalAmount.toFixed(2)},sortable:"true"},{name:"Payment Mode",selector:function(e){return e.payments[0].paymentID.paymentMode},sortable:"true"},{name:"Invoice Date",selector:function(e){return new Date(e.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})},sortable:"true"}],U=_.filter((function(e){var t;return null===e||void 0===e||null===(t=e.customerId.name)||void 0===t?void 0:t.toLowerCase().includes(null===z||void 0===z?void 0:z.toLowerCase())}));return(0,C.jsxs)(i.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,C.jsx)(p.ql,{children:(0,C.jsx)("title",{children:" Reports: Sales Report"})}),(0,C.jsx)(s.Z,{variant:"h4",children:" Sales Report "}),(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"20px"},children:[(0,C.jsx)(l.Z,{direction:"row",spacing:1,children:(0,C.jsx)(c.Z,{label:"Total Amount : ".concat(_.length>0?x.MG.format(_.reduce((function(e,t){return e+t.totalAmount}),0)):x.MG.format(0)),variant:"outlined"})}),(0,C.jsxs)(l.Z,{children:[(0,C.jsx)(u.Z,{style:{color:x.$_.actionButton},endIcon:(0,C.jsx)(Z.Z,{}),variant:"outlined",onClick:function(e){return $(e.currentTarget)},children:"ACTIONS"}),(0,C.jsxs)(d.Z,{id:"basic-menu",anchorEl:F,open:H,onClose:function(){$(null),L({})},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,C.jsx)(f.Z,{onClick:function(){},children:"Print"}),(0,C.jsx)(f.Z,{onClick:function(){},children:"Download"})]})]})]}),(0,C.jsx)("div",{style:{display:"flex",marginTop:"8px"},children:(0,C.jsx)(m.Z,{placeholder:"Search",size:"small",value:z,onChange:function(e){return G(e.target.value)},InputProps:{startAdornment:(0,C.jsx)(h.Z,{position:"start",children:(0,C.jsx)(k.Z,{})})}})}),(0,C.jsx)("div",{style:{marginTop:"20px"},children:(0,C.jsx)(S.ZP,{columns:O,data:U,pagination:!0,progressPending:w})})]})}},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184);t.Z=(0,a.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=178.04224376.chunk.js.map